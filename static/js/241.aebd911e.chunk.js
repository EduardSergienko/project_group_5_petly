"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[241],{6966:function(e,r,n){n.d(r,{Z:function(){return t.Z}});var t=n(9198)},241:function(e,r,n){n.r(r),n.d(r,{default:function(){return I}});var t=n(5861),s=n(885),a=n(7757),c=n.n(a),i=n(2791),u=n(8977),l="News_newsWrap__qHh1+",o="News_title__eqYv-",d="News_box__E9dik",h="News_newsItem__6DvvE",f="News_articleName__LYAy-",p="News_text__Ps51B",_="News_additional__uOFiC",m="News_date__D3o7H",x="News_readMore__fNfmn",w=n(7048),N=n(4373),v=n(3628),j="FilterInput_search__waR2z",g="FilterInput_label__YJ6od",Z="FilterInput_input__SwtDH",y="FilterInput_searchIcon__XfCTQ",k=n(184),b=function(e){var r=e.value,n=e.onChange;return(0,k.jsx)("div",{className:j,children:(0,k.jsxs)("label",{htmlFor:"search",className:g,children:[(0,k.jsx)(v.DebounceInput,{debounceTimeout:400,type:"search",value:r,onChange:function(e){return n(e.target.value.trim())},name:"search",id:"search",placeholder:"Search",className:Z}),(0,k.jsx)("i",{className:y,"aria-hidden":"true",children:(0,k.jsx)(N.y5k,{})})]})})},C=n(6966),L=n(6589),S=function(e){var r=e.result,n=e.query;return r.split(new RegExp("(".concat(n,")"),"gi")).map((function(e,r){return(0,k.jsx)("span",{style:{backgroundColor:e.toLowerCase()===n.toLocaleLowerCase()?"YELLOW":"TRANSPARENT"},children:e},r)}))},E=function(e){var r=e.title,n=(0,i.useState)(null),a=(0,s.Z)(n,2),N=a[0],v=a[1],j=(0,i.useState)(!1),g=(0,s.Z)(j,2),Z=g[0],y=g[1],E=(0,i.useState)([]),F=(0,s.Z)(E,2),I=F[0],R=F[1],D=(0,i.useState)(""),q=(0,s.Z)(D,2),M=q[0],P=q[1],A=(0,i.useState)(["title","description"]),O=(0,s.Z)(A,1)[0];(0,i.useEffect)((function(){function e(){return(e=(0,t.Z)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.Z.getNews();case 3:r=e.sent,n=r.data,y(!0),R(n.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y(!0),v(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var T=function(e,r){return e&&e.length>r?"".concat(e.slice(0,r).split(" ").slice(0,-1).join(" "),"..."):e};if(!N)return Z?(0,k.jsxs)("div",{className:l,children:[(0,k.jsx)("h1",{className:o,children:r}),(0,k.jsx)(b,{value:M,onChange:P}),(0,k.jsx)("ul",{className:d,children:function(e){var r=e.filter((function(e){return O.some((function(r){return e[r].toString().toLowerCase().indexOf(M.toLowerCase())>-1}))}));return r<1&&C.Z.showWarning("No matching news found"),r}(I).map((function(e){var r=e._id,n=e.title,t=e.description,s=e.date,a=e.url;return(0,k.jsx)("li",{className:h,children:M.length>1?(0,k.jsxs)("article",{children:[(0,k.jsx)("h2",{className:f,children:(0,k.jsx)(S,{result:n,query:M})}),(0,k.jsx)("p",{className:p,children:(0,k.jsx)(S,{result:t,query:M})}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("span",{className:m,children:(0,u.Z)(new Date(s),"dd/MM/yyyy")}),(0,k.jsx)("a",{href:a,className:x,target:"_blank",rel:"noreferrer",children:"Read more"})]})]}):(0,k.jsxs)("article",{children:[(0,k.jsx)("h2",{className:f,children:T(n,50)}),(0,k.jsx)("p",{className:p,children:T(t,225)}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("span",{className:m,children:(0,u.Z)(new Date(s),"dd/MM/yyyy")}),(0,k.jsx)("a",{href:a,className:x,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},r)}))})]}):(0,k.jsx)(w.Z,{});C.Z.showError((null===N||void 0===N?void 0:N.message)||"Oops, something wrong, try again")},F=n(3409),I=function(){return(0,k.jsx)("main",{children:(0,k.jsx)(F.Z,{children:(0,k.jsx)(E,{title:"News"})})})}},6589:function(e,r,n){var t=n(5861),s=n(7757),a=n.n(s),c=n(1044);c.ZP.defaults.baseURL="https://fetch-friend.herokuapp.com/api";var i=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/friends");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l={getAllFriends:i,getNews:u};r.Z=l}}]);
//# sourceMappingURL=241.aebd911e.chunk.js.map