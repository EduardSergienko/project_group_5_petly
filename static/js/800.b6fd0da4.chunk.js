"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[800],{9198:function(e,r,n){var t=n(8174),s={showError:function(e){return t.Am.error(e)},showSuccess:function(e){return t.Am.success(e)},showWarning:function(e){return t.Am.warn(e)}};r.Z=s},6966:function(e,r,n){n.d(r,{Z:function(){return t.Z}});var t=n(9198)},5800:function(e,r,n){n.r(r),n.d(r,{default:function(){return F}});var t=n(5861),s=n(9439),a=n(4687),c=n.n(a),i=n(2791),u=n(8977),l="News_newsWrap__qHh1+",o="News_title__eqYv-",h="News_box__E9dik",d="News_newsItem__6DvvE",f="News_articleName__LYAy-",p="News_text__Ps51B",_="News_additional__uOFiC",m="News_date__D3o7H",w="News_readMore__fNfmn",x=n(2881),N=n(4373),v=n(3628),j="FilterInput_search__waR2z",g="FilterInput_label__YJ6od",Z="FilterInput_input__SwtDH",y="FilterInput_searchIcon__XfCTQ",k=n(184),b=function(e){var r=e.value,n=e.onChange;return(0,k.jsx)("div",{className:j,children:(0,k.jsxs)("label",{htmlFor:"search",className:g,children:[(0,k.jsx)(v.DebounceInput,{debounceTimeout:400,type:"search",value:r,onChange:function(e){return n(e.target.value.trim())},name:"search",id:"search",placeholder:"Search",className:Z}),(0,k.jsx)("i",{className:y,"aria-hidden":"true",children:(0,k.jsx)(N.y5k,{})})]})})},C=n(6966),S=n(6589),L=function(e){var r=e.result,n=e.query;return r.split(new RegExp("(".concat(n,")"),"gi")).map((function(e,r){return(0,k.jsx)("span",{style:{backgroundColor:e.toLowerCase()===n.toLocaleLowerCase()?"YELLOW":"TRANSPARENT"},children:e},r)}))},E=function(){var e=(0,i.useState)(null),r=(0,s.Z)(e,2),n=r[0],a=r[1],N=(0,i.useState)(!1),v=(0,s.Z)(N,2),j=v[0],g=v[1],Z=(0,i.useState)([]),y=(0,s.Z)(Z,2),E=y[0],A=y[1],F=(0,i.useState)(""),I=(0,s.Z)(F,2),R=I[0],D=I[1],q=(0,i.useState)(["title","description"]),M=(0,s.Z)(q,1)[0];(0,i.useEffect)((function(){function e(){return(e=(0,t.Z)(c().mark((function e(){var r,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.Z.getNews();case 3:r=e.sent,n=r.data,g(!0),A(n.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),g(!0),a(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var P=function(e,r){return e&&e.length>r?"".concat(e.slice(0,r).split(" ").slice(0,-1).join(" "),"..."):e};if(!n)return j?(0,k.jsxs)("div",{className:l,children:[(0,k.jsx)("h1",{className:o,children:"News"}),(0,k.jsx)(b,{value:R,onChange:D}),(0,k.jsx)("ul",{className:h,children:function(e){var r=e.filter((function(e){return M.some((function(r){return e[r].toString().toLowerCase().indexOf(R.toLowerCase())>-1}))}));return r<1&&C.Z.showWarning("No matching news found"),r}(E).map((function(e){var r=e._id,n=e.title,t=e.description,s=e.date,a=e.url;return(0,k.jsx)("li",{className:d,children:R.length>1?(0,k.jsxs)("article",{children:[(0,k.jsx)("h2",{className:f,children:(0,k.jsx)(L,{result:n,query:R})}),(0,k.jsx)("p",{className:p,children:(0,k.jsx)(L,{result:t,query:R})}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("span",{className:m,children:(0,u.Z)(new Date(s),"dd/MM/yyyy")}),(0,k.jsx)("a",{href:a,className:w,target:"_blank",rel:"noreferrer",children:"Read more"})]})]}):(0,k.jsxs)("article",{children:[(0,k.jsx)("h2",{className:f,children:P(n,50)}),(0,k.jsx)("p",{className:p,children:P(t,225)}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("span",{className:m,children:(0,u.Z)(new Date(s),"dd/MM/yyyy")}),(0,k.jsx)("a",{href:a,className:w,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},r)}))})]}):(0,k.jsx)(x.Z,{});C.Z.showError((null===n||void 0===n?void 0:n.message)||"Oops, something wrong, try again")},A=n(3409),F=function(){return(0,k.jsx)("main",{children:(0,k.jsx)(A.Z,{children:(0,k.jsx)(E,{})})})}},6589:function(e,r,n){var t=n(5861),s=n(4687),a=n.n(s),c=n(1044);c.ZP.defaults.baseURL="https://fetch-friend.herokuapp.com/api";var i=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/friends");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l={getAllFriends:i,getNews:u};r.Z=l}}]);
//# sourceMappingURL=800.b6fd0da4.chunk.js.map