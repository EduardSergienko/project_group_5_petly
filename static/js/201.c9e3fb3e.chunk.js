"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[201],{2287:function(e,t,a){a(2791);t.Z=a.p+"static/media/closeLine.5df5dedc8021380228ef7301036a888b.svg"},9198:function(e,t,a){var i=a(8174),s={showError:function(e){return i.Am.error(e)},showSuccess:function(e){return i.Am.success(e)},showWarning:function(e){return i.Am.warn(e)}};t.Z=s},6201:function(e,t,a){a.r(t),a.d(t,{default:function(){return xt}});var i=a(885),s=a(9434),n=a(1634),o="NoticesSearch_input__qifw7",r=a(184);var l=function(){var e=(0,s.I0)(),t=(0,s.v9)((function(e){return e.filter.value}));return(0,r.jsx)("input",{className:o,placeholder:"Search",type:"text",name:"filter",value:t,onChange:function(t){e((0,n.T)(t.target.value))}})},c="NoticesCategoriesNav_list__KWyQu",d="NoticesCategoriesNav_item__xMww-",m="NoticesCategoriesNav_button__jLTUC",u="NoticesCategoriesNav_active__pyOOO",v=a(1087);var h,_,N,p=function(){var e=(0,s.v9)((function(e){return e.auth.isLoggedIn}));return(0,r.jsxs)("ul",{className:c,children:[(0,r.jsx)("li",{className:d,children:(0,r.jsx)(v.OL,{className:function(e){return e.isActive?u:m},to:"/notices/lost-found",children:"Lost/Found"})}),(0,r.jsx)("li",{className:d,children:(0,r.jsx)(v.OL,{className:function(e){return e.isActive?u:m},to:"/notices/for-free",children:"In good hands"})}),(0,r.jsx)("li",{className:d,children:(0,r.jsx)(v.OL,{className:function(e){return e.isActive?u:m},to:"/notices/sell",children:"Sell"})}),e&&(0,r.jsx)("li",{className:d,children:(0,r.jsx)(v.OL,{className:function(e){return e.isActive?u:m},to:"/notices/favorite",children:"Favorite ads"})}),e&&(0,r.jsx)("li",{className:d,children:(0,r.jsx)(v.OL,{className:function(e){return e.isActive?u:m},to:"/notices/own",children:"My ads"})})]})},f="NoticesCategoriesList_list__6CHop",x="NoticesCategoriesList_item__Ma000",g="NoticesCategoriesList_img__me-Ke",j="NoticesCategoriesList_imgWrapper__b7MGq",A="NoticesCategoriesList_itemCategory__A5B-p",b="NoticesCategoriesList_addToFavorite__5teTQ",M="NoticesCategoriesList_removeFavorite__nMgAY",y="NoticesCategoriesList_itemHeader__UCBDE",C="NoticesCategoriesList_itemDescription__WOa-j",w="NoticesCategoriesList_itemDescriptionConteiner__JBLu3",S="NoticesCategoriesList_itemDescriptionWrapper__j7EP3",B="NoticesCategoriesList_itemButton__xPQtI",E="NoticesCategoriesList_itemInfoWrap__DMQN1",F=a(2791),k=a(2448),T=a(3535),O=a(9198),V=["title","titleId"];function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},L.apply(this,arguments)}function D(e,t){if(null==e)return{};var a,i,s=function(e,t){if(null==e)return{};var a,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function P(e,t){var a=e.title,i=e.titleId,s=D(e,V);return F.createElement("svg",L({width:44,height:44,viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},s),a?F.createElement("title",{id:i},a):null,h||(h=F.createElement("g",{filter:"url(#filter0_b_106_883)"},F.createElement("circle",{cx:22,cy:22,r:22,fill:"white",fillOpacity:.6}))),_||(_=F.createElement("g",{filter:"url(#filter1_b_106_883)"},F.createElement("g",{filter:"url(#filter2_b_106_883)"},F.createElement("path",{d:"M16 11C12.6868 11 10 13.7337 10 17.1065C10 19.8291 11.05 26.2909 21.3856 32.8229C21.5707 32.9387 21.7833 33 22 33C22.2167 33 22.4293 32.9387 22.6144 32.8229C32.95 26.2909 34 19.8291 34 17.1065C34 13.7337 31.3132 11 28 11C24.6868 11 22 14.7009 22 14.7009C22 14.7009 19.3132 11 16 11Z",fill:"white",fillOpacity:.6}),F.createElement("path",{d:"M16 11C12.6868 11 10 13.7337 10 17.1065C10 19.8291 11.05 26.2909 21.3856 32.8229C21.5707 32.9387 21.7833 33 22 33C22.2167 33 22.4293 32.9387 22.6144 32.8229C32.95 26.2909 34 19.8291 34 17.1065C34 13.7337 31.3132 11 28 11C24.6868 11 22 14.7009 22 14.7009C22 14.7009 19.3132 11 16 11Z",stroke:"#F59256",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))),N||(N=F.createElement("defs",null,F.createElement("filter",{id:"filter0_b_106_883",x:-4,y:-4,width:52,height:52,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},F.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),F.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:2}),F.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_106_883"}),F.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_106_883",result:"shape"})),F.createElement("filter",{id:"filter1_b_106_883",x:-92,y:-92,width:228,height:228,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},F.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),F.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:50}),F.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_106_883"}),F.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_106_883",result:"shape"})),F.createElement("filter",{id:"filter2_b_106_883",x:5,y:6,width:34,height:32,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},F.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),F.createElement("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:2}),F.createElement("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_106_883"}),F.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_106_883",result:"shape"})))))}var I=F.forwardRef(P),U=(a.p,a(1918));var W=function(e){var t,a,n=e.item,o=e.setActive,l=(0,s.I0)(),c=(0,s.v9)(T.um.getIsLoggedIn),d=(0,s.v9)(k.e6.getMyFavoriteNotice),m=(0,s.v9)(T.um.getUserFavorite),u=(0,F.useState)(!1),v=(0,i.Z)(u,2),h=v[0],_=v[1];return(0,F.useEffect)((function(){c&&(d.length>0?(console.log(d),_(d.some((function(e){return(null===e||void 0===e?void 0:e._id)===(null===n||void 0===n?void 0:n._id)})))):(console.log(m),_(m.some((function(e){return e===(null===n||void 0===n?void 0:n._id)})))))}),[d,n,h,m,c]),(0,r.jsxs)("div",{className:x,children:[(0,r.jsx)("div",{className:j,children:(0,r.jsx)("img",{src:"https://fetch-friend.herokuapp.com/".concat(null===n||void 0===n?void 0:n.petImageUrl),alt:"Pet",className:g,onError:function(e){e.target.src=U}})}),(0,r.jsx)("p",{className:A,children:(a=null===n||void 0===n?void 0:n.category,"sell"===a?"Sell":"for-free"===a?"In good hands":"Lost/found")}),!h&&(0,r.jsx)(I,{className:b,onClick:function(e){if(e.preventDefault(),!c)return O.Z.showError("You need to authorize before adding notices to favorite.");e.currentTarget.style.fill="#f59256",l(k.hM.addToFavorite(null===n||void 0===n?void 0:n._id)),_(!0),O.Z.showSuccess("Notice added to favorite adds.")}}),h&&(0,r.jsx)(I,{className:M,onClick:function(e){if(e.preventDefault(),!c)return O.Z.showError("You need to authorize before remove notices from favorite.");e.currentTarget.style.fill="none",l(k.hM.removeFavorite(null===n||void 0===n?void 0:n._id)),setTimeout((function(){l(T.r5.getCurrentUser())}),300),_(!1),O.Z.showSuccess("Notice removed from favorite adds.")}}),(0,r.jsxs)("div",{className:E,children:[(0,r.jsx)("h3",{className:y,children:null===n||void 0===n?void 0:n.title}),(0,r.jsxs)("div",{className:S,children:[(0,r.jsxs)("div",{className:w,children:[(0,r.jsx)("p",{className:C,children:"Breed:"}),(0,r.jsx)("p",{className:C,children:"Place:"}),(0,r.jsx)("p",{className:C,children:"Birth Date:"})]}),(0,r.jsxs)("div",{className:w,children:[(0,r.jsx)("p",{className:C,children:(t=null===n||void 0===n?void 0:n.breed,t.length>17?t.slice(0,17)+"...":t)}),(0,r.jsx)("p",{className:C,children:null===n||void 0===n?void 0:n.location}),(0,r.jsx)("p",{className:C,children:null===n||void 0===n?void 0:n.birthDate})]})]}),(0,r.jsx)("button",{className:B,onClick:function(e){e.preventDefault(),o(!0),l(k.hM.getOneNotice(null===n||void 0===n?void 0:n._id))},children:"Learn more"})]})]},null===n||void 0===n?void 0:n._id)};var Z=function(e){var t=e.items,a=e.setActive;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("ul",{className:f,children:null===t||void 0===t?void 0:t.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(W,{item:e,setActive:a})},null===e||void 0===e?void 0:e._id)}))})})},R="AddNoticeButton_addNoticeImage__+Y9Dn",q="AddNoticeButton_addNoticeSpan__vYHlC",G="AddNoticeButton_addNoticeButton__9jVKk";var Q=a.p+"static/media/plus-button.18dde0ab6d2ab0cd36f9fdac9bc7c4b1.svg";var J=function(e){var t=e.handleOpenModal;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("button",{className:"".concat(G),onClick:t,children:[(0,r.jsx)("img",{src:Q,className:R,alt:"plus"}),(0,r.jsx)("span",{className:q,children:"Add pet"})]})})},Y=a(8174),H=a(9938),z=a(2287);var K=a.p+"static/media/like.d4f6fb3471d63fab6d02b712ef844b7a.svg",X="ModalNotice_container__NddfK",$="ModalNotice_active__8kPFO",ee="ModalNotice_modal__29Y6A",te="ModalNotice_button__hJCvp",ae="ModalNotice_imgB__W7GoO",ie="ModalNotice_containerCategory__53rcs",se="ModalNotice_containerImage__KsBgz",ne="ModalNotice_image__MBZjh",oe="ModalNotice_categoryNotice__OzmQg",re="ModalNotice_textCategory__jWClw",le="ModalNotice_containerInformationPets__T4HLC",ce="ModalNotice_title__51s57",de="ModalNotice_item__7R2rV",me="ModalNotice_p__MdpY5",ue="ModalNotice_span__w2PNv",ve="ModalNotice_containerComments__iJkwT",he="ModalNotice_textComments__j54vU",_e="ModalNotice_spanComments__E9SDY",Ne="ModalNotice_containerButton__f2slo",pe="ModalNotice_addTo__aotzC",fe="ModalNotice_removeTo__ZwZVN",xe="ModalNotice_likeSvg__Ipys4",ge="ModalNotice_btnContact__4H7GE";var je=function(e){var t,a,n,o,l,c=e.active,d=e.setActive,m=(0,s.I0)(),u=(0,s.v9)(k.e6.getNoticeInformationMore),v=(0,s.v9)(k.e6.noticeLoading),h=(0,s.v9)(k.e6.myFavorite),_=(0,F.useState)(window.innerWidth),N=(0,i.Z)(_,2),p=N[0],f=N[1],x=p<480,g=null===h||void 0===h?void 0:h.find((function(e){return null!==e&&void 0!==e&&e._id?(null===u||void 0===u?void 0:u._id)===(null===e||void 0===e?void 0:e._id):(null===u||void 0===u?void 0:u._id)===e}));return(0,F.useEffect)((function(){window.addEventListener("resize",(function(){f(window.innerWidth)}))}),[]),(0,F.useEffect)((function(){var e=function(e){"Escape"===e.code&&d(!1)},t=function(e){window.scrollTo(0,0)};return window.addEventListener("keydown",e),c&&x&&window.addEventListener("scroll",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("scroll",t)}}),[c,x,d]),(0,r.jsx)("div",{className:X+" "+(c?$:""),onClick:function(){d(!1)},children:v?(0,r.jsx)(H.Z,{}):(0,r.jsxs)("div",{className:ee,onClick:function(e){return e.stopPropagation()},children:[(0,r.jsxs)("div",{className:ie,children:[(0,r.jsxs)("div",{className:se,children:[(0,r.jsx)("img",{className:ne,src:"https://fetch-friend.herokuapp.com/".concat(null===u||void 0===u?void 0:u.petImageUrl),alt:"photo_".concat(null===u||void 0===u?void 0:u.petName),onError:function(e){e.target.src=U}}),(0,r.jsx)("div",{className:oe,children:(0,r.jsx)("p",{className:re,children:null===u||void 0===u?void 0:u.category})})]}),(0,r.jsxs)("div",{className:le,children:[(0,r.jsx)("h2",{className:ce,children:null===u||void 0===u?void 0:u.title}),(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"Name:"}),(0,r.jsx)("span",{className:ue,children:null===u||void 0===u?void 0:u.petName})]}),(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"Birthday:"}),(0,r.jsx)("span",{className:ue,children:null===u||void 0===u?void 0:u.birthDate})]}),(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"Breed:"}),(0,r.jsx)("span",{className:ue,children:null===u||void 0===u?void 0:u.breed})]}),(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"Place:"}),(0,r.jsx)("span",{className:ue,children:null===u||void 0===u?void 0:u.location})]}),(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"The sex:"}),(0,r.jsx)("span",{className:ue,children:null===u||void 0===u?void 0:u.sex})]}),(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"Email:"}),(0,r.jsx)("span",{className:ue,children:null!==u&&void 0!==u&&null!==(t=u.owner)&&void 0!==t&&t.email?null===u||void 0===u||null===(a=u.owner)||void 0===a?void 0:a.email:"-"})]}),(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"Phone:"}),(0,r.jsx)("span",{className:ue,children:null!==u&&void 0!==u&&null!==(n=u.owner)&&void 0!==n&&n.phone?null===u||void 0===u||null===(o=u.owner)||void 0===o?void 0:o.phone:"-"})]}),"sell"===(null===u||void 0===u?void 0:u.category)&&(0,r.jsxs)("li",{className:de,children:[(0,r.jsx)("p",{className:me,children:"Sell:"}),(0,r.jsxs)("span",{className:ue,children:[null===u||void 0===u?void 0:u.price,"$"]})]})]})]})]}),(0,r.jsx)("div",{className:ve,children:(0,r.jsxs)("p",{className:he,children:["Comments:",(0,r.jsx)("span",{className:_e,children:null===u||void 0===u?void 0:u.comments})]})}),(0,r.jsxs)("div",{className:Ne,children:[g?(0,r.jsxs)("button",{className:fe,onClick:function(){m(k.hM.removeFavorite(u._id)),Y.Am.success(" Remove from favorite",{position:"top-right",autoClose:600,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},children:["Remove from",(0,r.jsx)("img",{className:xe,src:K,alt:"like"})]}):(0,r.jsxs)("button",{className:pe,onClick:function(){m(k.hM.addToFavorite(u._id)),Y.Am.success("Add to favorite",{position:"top-right",autoClose:600,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:"light"})},children:["Add to ",(0,r.jsx)("img",{className:xe,src:K,alt:"like"})]}),(0,r.jsx)("a",{className:ge,href:"tel:".concat(null===u||void 0===u||null===(l=u.owner)||void 0===l?void 0:l.phone),children:"Contact"})]}),(0,r.jsx)("button",{className:te,onClick:function(){d(!1)},children:(0,r.jsx)("img",{className:ae,src:z.Z,alt:"close"})})]})})},Ae=a(1413),be=a(5705),Me=a(7103),ye="ModalAddNotice_formWrap__reKLK",Ce="ModalAddNotice_addForm__R1HrL",we="ModalAddNotice_title__ZY6tI",Se="ModalAddNotice_text__LmV9B",Be="ModalAddNotice_container__Ny8w4",Ee="ModalAddNotice_modalWrapper__cgtp5",Fe="ModalAddNotice_fieldsetWrap__RHQW0",ke="ModalAddNotice_secPagefieldsetWrap__biHhg",Te="ModalAddNotice_categorySell__BYgT-",Oe="ModalAddNotice_categoryForFree__4tSBH",Ve="ModalAddNotice_categoryLostFound__-SR9W",Le="ModalAddNotice_labelContainer__D+uWb",De="ModalAddNotice_radio__jT5wG",Pe="ModalAddNotice_labelTitle__Qcfra",Ie="ModalAddNotice_require__WvJcO",Ue="ModalAddNotice_input__qHVcx",We="ModalAddNotice_secStepInput__CCcnF",Ze="ModalAddNotice_buttonWrap__uLA3I",Re="ModalAddNotice_button__DcmvF",qe="ModalAddNotice_genderMale__f+Zp0",Ge="ModalAddNotice_genderFemale__ox-lU",Qe="ModalAddNotice_genderLabel__jcNin",Je="ModalAddNotice_inputFile__sDfor",Ye="ModalAddNotice_addImage__ZC8W5",He="ModalAddNotice_textArea__8mURf",ze="ModalAddNotice_avatarLabel__Bdppf",Ke="ModalAddNotice_closeBtn__pR03M",Xe="ModalAddNotice_selectedAvatar__yOzUp",$e="ModalAddNotice_errorMsg__RR9Cr",et="ModalAddNotice_secStepError__YrrbJ",tt="ModalAddNotice_avatarErrorType__yn3+m",at="ModalAddNotice_errorInput__4RZ7a",it=function(e){var t=e.handleFirstStepSubmit,a=e.firstStepValues,i=e.handleModalClose,s=e.handeDateValidation,n=Me.Ry({category:Me.Z_().required("Required"),title:Me.Z_().min(2,"Title is too short").max(48,"Title is too long").required("Required"),name:Me.Z_().min(2,"Name is too short").max(16,"Name is too long").required("Required"),birthDate:Me.Z_().matches(/^\s*(3[01]|[12][0-9]|0?[1-9])\.(1[012]|0?[1-9])\.((?:19|20)\d{2})\s*$/,"Date format should be DD.MM.YYYY").test("dateFormat","Provide a valid date of birth",s).required("Required"),breed:Me.Z_().min(2,"Breed is too short").max(24,"Breed is too long").required("Required")});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(be.J9,{initialValues:a,onSubmit:t,validationSchema:n,children:function(e){var t=e.errors,a=e.touched;return(0,r.jsxs)(be.l0,{className:Ce,children:[(0,r.jsx)("p",{className:Se,children:"Lorem ipsum dolor sit amet, consectetur Lorem ipsum dolor sit amet, consectetur"}),(0,r.jsxs)("fieldset",{className:Fe,children:[(0,r.jsxs)("label",{className:Le,htmlFor:"lost-found",children:[(0,r.jsx)(be.gN,{className:De,type:"radio",name:"category",id:"lost-found",value:"lost-found"}),(0,r.jsx)("span",{className:Ve})]}),(0,r.jsxs)("label",{className:Le,htmlFor:"for-free",children:[(0,r.jsx)(be.gN,{className:De,type:"radio",name:"category",id:"for-free",value:"for-free"}),(0,r.jsx)("span",{className:Oe})]}),(0,r.jsxs)("label",{className:Le,htmlFor:"sell",children:[(0,r.jsx)(be.gN,{className:De,type:"radio",name:"category",id:"sell",value:"sell"}),(0,r.jsx)("span",{className:Te})]})]}),(0,r.jsxs)("label",{className:Pe,htmlFor:"title",children:["Tittle of ad",(0,r.jsx)("span",{className:Ie,children:"*"}),(0,r.jsx)(be.gN,{className:"".concat(Ue," ").concat(t.title&&a.title?at:""),type:"text",id:"title",name:"title",placeholder:"Type title"}),(0,r.jsx)(be.Bc,{name:"title",render:function(e){return(0,r.jsx)("div",{className:$e,children:e})}})]}),(0,r.jsxs)("label",{className:Pe,htmlFor:"name",children:["Name",(0,r.jsx)("span",{className:Ie,children:"*"}),(0,r.jsx)(be.gN,{className:"".concat(Ue," ").concat(t.name&&a.name?at:""),type:"text",id:"name",name:"name",placeholder:"Type name"}),(0,r.jsx)(be.Bc,{name:"name",render:function(e){return(0,r.jsx)("div",{className:$e,children:e})}})]}),(0,r.jsxs)("label",{className:Pe,htmlFor:"birthDate",children:["Date of birth",(0,r.jsx)("span",{className:Ie,children:"*"}),(0,r.jsx)(be.gN,{className:"".concat(Ue," ").concat(t.birthDate&&a.birthDate?at:""),type:"text",id:"birthDate",name:"birthDate",placeholder:"Type date of birth"}),(0,r.jsx)(be.Bc,{name:"birthDate",render:function(e){return(0,r.jsx)("div",{className:$e,children:e})}})]}),(0,r.jsxs)("label",{className:Pe,htmlFor:"breed",children:["Breed",(0,r.jsx)("span",{className:Ie,children:"*"}),(0,r.jsx)(be.gN,{className:"".concat(Ue," ").concat(t.breed&&a.breed?at:""),type:"text",id:"breed",name:"breed",placeholder:"Type breed"}),(0,r.jsx)(be.Bc,{name:"breed",render:function(e){return(0,r.jsx)("div",{className:$e,children:e})}})]}),(0,r.jsxs)("div",{className:Ze,children:[(0,r.jsx)("button",{onClick:i,className:Re,type:"button",children:"Cancel"}),(0,r.jsx)("button",{className:Re,type:"submit",children:"Next"})]})]})}})})},st=a(1282);var nt=a.p+"static/media/add-image.d78b74a298a5b197a2d67e7f9945ae89.svg",ot=function(e){var t=e.handleBackToFirst,a=e.secondStepValues,i=e.handleAddAvatar,s=e.file,n=e.handleSecondStepSubmit,o=e.checkCategory,l=["image/jpg","image/jpeg","image/gif","image/png"],c=Me.Ry({sex:Me.Z_().required("Required"),location:Me.Z_().min(2,"Location is too short").max(48,"Location is too long").required("Required"),price:Me.Rx().when([],{is:function(){return o()},then:Me.Rx().min(1).required("Required"),otherwise:Me.Rx().notRequired()}),avatar:Me.nK().required("Required").test("fileFormat","Unsupported file type",(function(e){return e&&l.includes(e.type)})),comments:Me.Z_().min(8,"Comments is too short").max(120,"Comments is too long").required("Required")});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(be.J9,{initialValues:a,onSubmit:n,validationSchema:c,children:function(e){var n=e.errors,l=e.touched,c=e.values,d=e.setFieldValue;return(0,r.jsxs)(be.l0,{className:Ce,children:[(0,r.jsxs)("fieldset",{className:"".concat(Fe," ").concat(ke),children:[(0,r.jsxs)("legend",{className:Pe,children:["The sex ",(0,r.jsx)("span",{className:Ie,children:"*"})]}),(0,r.jsxs)("label",{className:Qe,htmlFor:"male",children:[(0,r.jsx)(be.gN,{className:De,type:"radio",id:"male",name:"sex",src:st,alt:"male",value:"male"}),(0,r.jsx)("span",{className:qe}),(0,r.jsx)("span",{children:"Male"})]}),(0,r.jsxs)("label",{className:Qe,htmlFor:"female",children:[(0,r.jsx)(be.gN,{className:De,type:"radio",id:"female",name:"sex",src:st,alt:"female",value:"female"}),(0,r.jsx)("span",{className:Ge}),(0,r.jsx)("span",{children:"Female"})]}),(0,r.jsx)(be.Bc,{name:"sex",render:function(e){return(0,r.jsx)("div",{className:et,children:e})}})]}),(0,r.jsxs)("label",{className:Pe,htmlFor:"location",children:["Location",(0,r.jsx)("span",{className:Ie,children:"*"}),(0,r.jsx)(be.gN,{className:"".concat(Ue," ").concat(n.location&&l.location?at:""),type:"text",id:"location",placeholder:"Type location",name:"location"}),(0,r.jsx)(be.Bc,{name:"location",render:function(e){return(0,r.jsx)("div",{className:et,children:e})}})]}),o()&&(0,r.jsxs)("label",{className:Pe,htmlFor:"price",children:["Price",(0,r.jsx)("span",{className:Ie,children:"*"}),(0,r.jsx)(be.gN,{className:"".concat(Ue," ").concat(n.price&&l.price?at:""),type:"number",id:"price",placeholder:"Type price",name:"price"}),(0,r.jsx)(be.Bc,{name:"price",render:function(e){return(0,r.jsx)("div",{className:et,children:e})}})]}),(0,r.jsxs)("label",{className:Pe,children:["Load the pet's image",(0,r.jsx)("span",{className:Ie,children:"*"})]}),(0,r.jsxs)("label",{className:ze,htmlFor:"avatar",children:[(0,r.jsx)("div",{className:"".concat(Ye," ").concat(n.avatar&&l.avatar?at:""),children:s?(0,r.jsx)("img",{id:"petAvatar",className:"".concat(Xe," ").concat(n.avatar&&tt),src:s,alt:a.avatar.name}):(0,r.jsx)("img",{src:nt,alt:"add"})}),(0,r.jsx)("input",{className:Je,type:"file",id:"avatar",name:"avatar",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return i(e,d)}}),l.avatar&&n.avatar&&(0,r.jsx)("div",{className:et,children:n.avatar})]}),(0,r.jsxs)("label",{className:Pe,htmlFor:"comments",children:["Comments",(0,r.jsx)("span",{className:Ie,children:"*"}),(0,r.jsx)(be.gN,{component:"textarea",className:"".concat(He," ").concat(We," ").concat(n.comments&&l.comments?at:""),name:"comments",id:"comments",rows:"3",placeholder:"Type comments"}),(0,r.jsx)(be.Bc,{name:"comments",render:function(e){return(0,r.jsx)("div",{className:et,children:e})}})]}),(0,r.jsxs)("div",{className:Ze,children:[(0,r.jsx)("button",{onClick:function(){return t(c)},className:Re,type:"button",children:"Back"}),(0,r.jsx)("button",{className:Re,type:"submit",children:"Done"})]})]})}})})},rt=function(e){var t=e.setIsModalOpen,a=(0,F.useState)(0),n=(0,i.Z)(a,2),o=n[0],l=n[1],c=(0,F.useState)({category:"sell",title:"",name:"",birthDate:"",breed:""}),d=(0,i.Z)(c,2),m=d[0],u=d[1],v=(0,F.useState)({sex:"",location:"",price:"",avatar:"",comments:""}),h=(0,i.Z)(v,2),_=h[0],N=h[1],p=(0,F.useState)(""),f=(0,i.Z)(p,2),x=f[0],g=f[1],j=(0,s.I0)();(0,F.useEffect)((function(){var e=function(e){"Escape"===e.code&&t(!1)};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);var A=function(e){e.currentTarget===e.target&&t(!1)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:Be,onClick:A,children:(0,r.jsx)("div",{className:Ee,children:(0,r.jsxs)("div",{className:ye,children:[(0,r.jsx)("h1",{className:"".concat(we),children:"Add pet"}),0===o?(0,r.jsx)(it,{handleFirstStepSubmit:function(e){u(e),l((function(e){return e+1}))},firstStepValues:m,setFirstStepValues:u,handleModalClose:A,handeDateValidation:function(e){if(e){var t,a=e.split("."),s=(0,i.Z)(a,3),n=s[0],o=s[1],r=s[2];return n&&(t=!(Number(n)>31)),o&&(t=!(Number(o)>12)),r&&(t=!(new Date("".concat(o,"-").concat(n,"-").concat(r)).getTime()>Date.now())),t}}}):(0,r.jsx)(ot,{handleBackToFirst:function(e){N(e),l((function(e){return e-1}))},secondStepValues:_,handleAddAvatar:function(e,t){var a=(0,i.Z)(e.target.files,1)[0],s=new FileReader;a&&(t("avatar",a),s.readAsDataURL(a),s.onloadend=function(e){var t=s.result;g(t),N((function(e){return(0,Ae.Z)((0,Ae.Z)({},e),{},{avatar:a})}))})},file:x,handleSecondStepSubmit:function(e){var t=e.comments,a=e.avatar,i=e.price,s=e.location,n=e.sex,o=new FormData;o.append("category",m.category),o.append("title",m.title),o.append("petName",m.name),o.append("birthDate",m.birthDate),o.append("breed",m.breed),o.append("sex",n),o.append("location",s),o.append("avatar",a),o.append("comments",t),"sell"===m.category&&o.append("price",Number(i)),j(k.hM.addNotice(o))},checkCategory:function(){return"sell"===m.category}}),(0,r.jsx)("button",{className:Ke,onClick:A})]})})})})},lt="NoticesPage_container__m1qeG",ct="NoticesPage_title__Sg2Ov",dt="NoticesPage_notification__MJNEa",mt="NoticesPage_navWarpper__mGPqO",ut="NoticesPage_buttonText__BGIc-",vt="NoticesPage_buttonWrapper__3mTgk",ht="NoticesPage_stickyBtnWrapper__ZeyNT",_t="NoticesPage_stickyLoginBtnWrapper__HeBLN",Nt=a(7689),pt=a(2881);var ft=function(e){var t=e.onFilter,a=void 0===t?function(){}:t,n=(0,s.I0)(),o=(0,Nt.UO)().categoryName,c=(0,s.v9)(k.e6.getNotices),d=(0,s.v9)(k.e6.getOwnAdds),m=(0,s.v9)((function(e){return e.filter.value})),u=(0,s.v9)(k.e6.myFavorite),v=(0,s.v9)(k.e6.getIsLoggedIn),h=(0,s.v9)(k.e6.getNoticeError),_=(0,s.v9)(k.e6.noticeLoading),N=(0,F.useState)([]),f=(0,i.Z)(N,2),x=f[0],g=f[1],j=(0,F.useState)(!1),A=(0,i.Z)(j,2),b=A[0],M=A[1],y=(0,s.v9)(k.e6.getNoticeAdded),C=(0,s.v9)(k.e6.getNoticeAddError),w=(0,F.useState)(!1),S=(0,i.Z)(w,2),B=S[0],E=S[1];(0,F.useEffect)((function(){var e=function(e){return m?null===e||void 0===e?void 0:e.filter((function(e){var t=e.title;return null===t||void 0===t?void 0:t.toLowerCase().includes(m)})):e};g(e(c)),"favorite"===o&&g(e(u)),"own"===o&&g(e(d))}),[o,m,c,g,u,d]),(0,F.useEffect)((function(){"sell"===o&&n(k.hM.getNotices(o)),"for-free"===o&&n(k.hM.getNotices(o)),"lost-found"===o&&n(k.hM.getNotices(o)),"own"===o&&v&&n(k.hM.getOwn()),"favorite"===o&&v&&n(k.hM.getFavorite())}),[o,v,n]),(0,F.useEffect)((function(){y&&(O.Z.showSuccess("Notice successfully added"),M(!1)),C&&O.Z.showError("Something went wrong, try again")}),[y,C]),(0,F.useEffect)((function(){document.body.style.overflow=b?"hidden":""}),[b]);var T=function(){v?M(!0):O.Z.showWarning("You need to authorize before adding notices.")};return(0,r.jsxs)("div",{className:lt,children:[(0,r.jsx)("h2",{className:ct,children:"Find your favorite pet"}),(0,r.jsx)(l,{onChange:a}),(0,r.jsxs)("div",{className:mt,children:[(0,r.jsx)(p,{}),(0,r.jsxs)("div",{className:vt,children:[(0,r.jsx)("p",{className:ut,children:"Add pet"}),(0,r.jsx)(J,{handleOpenModal:T})]})]}),h&&(0,r.jsx)("p",{className:dt,children:"Sorry, there is no pets in sellected category."}),_?!B&&(0,r.jsx)(pt.Z,{}):(0,r.jsx)(Z,{items:x,setActive:E}),(0,r.jsx)("div",{className:"".concat(v?_t:ht),children:(0,r.jsx)(J,{handleOpenModal:T})}),b&&(0,r.jsx)(rt,{setIsModalOpen:M}),(0,r.jsx)(je,{active:B,setActive:E})]})};function xt(){return(0,r.jsx)("main",{children:(0,r.jsx)(ft,{})})}},1282:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAmCAMAAACbFsmhAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAAFiUAABYlAUlSJPAAAACWUExURUdwTPWSVvePWPSSV/eXUPaTVfeUVfWSVvWSV/SSVf+PUPeTVPSRVf+fUO+PUPWTVfeXWPSSVvOTVPWTVvaTVvORVvSVVfWTVvaSV/aTV/WSVvWRVveTVvSTVvWUVfSRVvWSV/ePUPaSVvSTVfOSVfWTVvORVfWTVvaSVvaUVvaSV/KTVvaSV/qPVfKTU/SPWvWTU/WSVrhNda4AAAAxdFJOUwDvIHAgv5/f32AQQJAQEM8g70B/r4AwUHBv0IB/oJ+gnyDfkLDPkK+Pj99QjzBQMFBE6ZXvAAABNklEQVQ4y42U23aCMBREJ8EICWCBqljbqq293+f/f64PIp5ABOeNZK+QmTUnwElFNG0VTRDUDT2tQkzBjtIAdN+FsgBkupDpM3nShdTMB+zUlOwpNnObt7YCQAvaA3PNQd1dwJCrQDwMGIhGId7241GqTXN7DMyPx1QOcD+GJL+AxcGhB6n6mIpVpEVzFw9Sv0Bu93ubA0vFOE2TPmSBuiTJ+A/SkIQegVrUxAQhi9NHLI+S0Dcq2bhlEHqAlffT49DnGSgV69Ti3xLKhKOd7LyE1Az6o0lDo0iCEN8BvSXJnQPewmEeSuiqpetUMcaVLMGmGe78Va4+48lv0yZKUzsvOwOYjTczkwGek8VMXTAITUUH5wDw/fW1BgDoQWqtm9q/DDhz7bOiIxM4Lp4vXP+NmgjJ7X9vl7ioEPY58QAAAABJRU5ErkJggg=="},1918:function(e,t,a){e.exports=a.p+"static/media/noPhoto.05cea61736aac7e1345e.png"}}]);
//# sourceMappingURL=201.c9e3fb3e.chunk.js.map