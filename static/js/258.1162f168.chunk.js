"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[258],{9198:function(e,n,r){var t=r(8174),a={showError:function(e){return t.Am.error(e)},showSuccess:function(e){return t.Am.success(e)},showWarning:function(e){return t.Am.warn(e)}};n.Z=a},6966:function(e,n,r){r.d(n,{Z:function(){return t.Z}});var t=r(9198)},3258:function(e,n,r){r.r(n),r.d(n,{default:function(){return A}});var t=r(3433),a=r(5861),s=r(9439),c=r(4687),u=r.n(c),i=r(2791),l=r(8977),o=r(4771),h="News_newsWrap__qHh1+",p="News_title__eqYv-",d="News_box__E9dik",f="News_newsItem__6DvvE",m="News_articleName__LYAy-",_="News_text__Ps51B",w="News_additional__uOFiC",x="News_date__D3o7H",N="News_readMore__fNfmn",v=r(2881),Z=r(4373),j=r(3628),g="FilterInput_search__waR2z",b="FilterInput_label__YJ6od",y="FilterInput_input__SwtDH",k="FilterInput_searchIcon__XfCTQ",S="FilterInput_searchBtn__W1bj3",F=r(184),I=function(e){var n=e.value,r=e.onSubmit,t=e.onChange;return(0,F.jsx)("form",{onSubmit:r,className:g,children:(0,F.jsxs)("label",{htmlFor:"search",className:b,children:[(0,F.jsx)(j.DebounceInput,{debounceTimeout:400,type:"search",value:n,onChange:t,name:"search",id:"search",placeholder:"Search",className:y}),(0,F.jsx)("button",{className:S,type:"submit",children:(0,F.jsx)(Z.y5k,{className:k})})]})})},C=r(6966),D=r(6589),E=function(){var e=(0,i.useState)(!1),n=(0,s.Z)(e,2),r=n[0],c=n[1],Z=(0,i.useState)([]),j=(0,s.Z)(Z,2),g=j[0],b=j[1],y=(0,i.useState)(""),k=(0,s.Z)(y,2),S=k[0],E=k[1],M=(0,i.useState)(1),A=(0,s.Z)(M,2),P=A[0],R=A[1],H=(0,i.useState)(!0),L=(0,s.Z)(H,2),T=L[0],W=L[1],Y=(0,i.useState)(null),q=(0,s.Z)(Y,2),B=q[0],O=q[1];function z(){return(z=(0,a.Z)(u().mark((function e(n){var r,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,c(!0),e.next=5,D.Z.searchNews(S);case 5:r=e.sent,t=r.data,O(t),c(!1),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),c(!1),e.abrupt("return",C.Z.showError("Sorry, no news found, try again"));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}console.log(g),console.log(B),console.log(S),(0,i.useEffect)((function(){function e(){return(e=(0,a.Z)(u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,D.Z.getNews(P);case 4:n=e.sent,r=n.data,b((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(r.data))})),r.data.length<9&&(W(!1),C.Z.showSuccess("Thats all News")),c(!1),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),c(!1),e.abrupt("return",C.Z.showError("Oops, try again"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[P]);var J=function(e,n){return e&&e.length>n?"".concat(e.slice(0,n).split(" ").slice(0,-1).join(" "),"..."):e};return(0,F.jsxs)("div",{className:h,children:[(0,F.jsx)("h1",{className:p,children:"News"}),r&&(0,F.jsx)(v.Z,{}),(0,F.jsx)(I,{onSubmit:function(e){return z.apply(this,arguments)},value:S,onChange:function(e){E(e.target.value),""!==e.target.value.trim()||O(null)}}),B?(0,F.jsx)("ul",{className:d,children:B.map((function(e){var n=e._id,r=e.title,t=e.description,a=e.date,s=e.url;return(0,F.jsx)("li",{className:f,children:(0,F.jsxs)("article",{children:[(0,F.jsx)("h2",{className:m,children:J(r,50)}),(0,F.jsx)("p",{className:_,children:J(t,225)}),(0,F.jsxs)("div",{className:w,children:[(0,F.jsx)("span",{className:x,children:(0,l.Z)(new Date(a),"dd/MM/yyyy")}),(0,F.jsx)("a",{href:s,className:N,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},n)}))}):(0,F.jsx)(o.Z,{className:d,dataLength:g.length,next:function(){R(P+1)},hasMore:T,children:g.map((function(e){var n=e._id,r=e.title,t=e.description,a=e.date,s=e.url;return(0,F.jsx)("li",{className:f,children:(0,F.jsxs)("article",{children:[(0,F.jsx)("h2",{className:m,children:J(r,50)}),(0,F.jsx)("p",{className:_,children:J(t,225)}),(0,F.jsxs)("div",{className:w,children:[(0,F.jsx)("span",{className:x,children:(0,l.Z)(new Date(a),"dd/MM/yyyy")}),(0,F.jsx)("a",{href:s,className:N,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},n)}))})]})},M=r(3409),A=function(){return(0,F.jsx)("main",{children:(0,F.jsx)(M.Z,{children:(0,F.jsx)(E,{})})})}},6589:function(e,n,r){var t=r(5861),a=r(4687),s=r.n(a),c=r(1044);c.ZP.defaults.baseURL="https://fetch-friend.herokuapp.com/api";var u=function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/friends");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,t.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news?page=".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news/search?title=".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),o={getAllFriends:u,getNews:i,searchNews:l};n.Z=o}}]);
//# sourceMappingURL=258.1162f168.chunk.js.map