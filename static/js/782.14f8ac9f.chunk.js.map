{"version":3,"file":"static/js/782.14f8ac9f.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/ScrollToTopBtn/ScrollToTopBtn.module.scss?3529","components/ScrollToTopBtn/ScrollToTopBtn.jsx","webpack://react-homework-template/./src/helpers/FilterInput/FilterInput.module.scss?9729","helpers/FilterInput/FilterInput.jsx","helpers/Notification/Notification.jsx","webpack://react-homework-template/./src/components/News/News.module.scss?cf64","components/News/News.jsx","pages/NewsPage.jsx","services/apiServices.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"hoverOrangeColor\":\"#e7884d\",\"primaryGrayColor\":\"rgba(17,17,17,.6)\",\"secondGrayColor\":\"#535353\",\"ScrollToTopBtn\":\"ScrollToTopBtn_ScrollToTopBtn__YhYpQ\"};","import styles from './ScrollToTopBtn.module.scss';\n\nexport default function ScrollToTopBtn() {\n  return (\n    <svg\n      className={styles.ScrollToTopBtn}\n      viewBox=\"0 0 512 512\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d=\"M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM390.6 310.6c-12.5 12.5-32.75 12.5-45.25 0L256 221.3L166.6 310.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l112-112C239.6 147.1 247.8 144 256 144s16.38 3.125 22.62 9.375l112 112C403.1 277.9 403.1 298.1 390.6 310.6z\" />\n    </svg>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"hoverOrangeColor\":\"#e7884d\",\"primaryGrayColor\":\"rgba(17,17,17,.6)\",\"secondGrayColor\":\"#535353\",\"search\":\"FilterInput_search__waR2z\",\"label\":\"FilterInput_label__YJ6od\",\"input\":\"FilterInput_input__SwtDH\",\"noValidate\":\"FilterInput_noValidate__Obbrr\",\"searchIcon\":\"FilterInput_searchIcon__XfCTQ\",\"searchBtn\":\"FilterInput_searchBtn__W1bj3\"};","import { IoMdSearch } from 'react-icons/io';\nimport PropTypes from 'prop-types';\n\nimport styles from './FilterInput.module.scss';\n\nconst FilterInput = ({ onSubmit, onChange, cssClass }) => {\n  return (\n    <form onSubmit={onSubmit} className={`${styles.search} ${cssClass}`}>\n      <label htmlFor=\"search\" className={styles.label}>\n        <input\n          type=\"text\"\n          name=\"search\"\n          id=\"search\"\n          placeholder=\"Search\"\n          className={styles.input}\n          onChange={onChange}\n        />\n        <button className={styles.searchBtn} type=\"submit\">\n          <IoMdSearch className={styles.searchIcon} />\n        </button>\n      </label>\n    </form>\n  );\n};\n\nFilterInput.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onChange: PropTypes.func.isRequired,\n  cssClass: PropTypes.string,\n};\n\nexport default FilterInput;\n","import { toast } from 'react-toastify';\n\nconst showError = text => toast.error(text);\n\nconst showSuccess = text => toast.success(text);\n\nconst showWarning = text => toast.warn(text);\n\nconst notices = {\n  showError,\n  showSuccess,\n  showWarning,\n};\nexport default notices;\n","// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"hoverOrangeColor\":\"#e7884d\",\"primaryGrayColor\":\"rgba(17,17,17,.6)\",\"secondGrayColor\":\"#535353\",\"newsWrap\":\"News_newsWrap__qHh1+\",\"title\":\"News_title__eqYv-\",\"box\":\"News_box__E9dik\",\"newsItem\":\"News_newsItem__6DvvE\",\"articleName\":\"News_articleName__LYAy-\",\"text\":\"News_text__Ps51B\",\"additional\":\"News_additional__uOFiC\",\"date\":\"News_date__D3o7H\",\"readMore\":\"News_readMore__fNfmn\"};","import { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { useTranslation } from 'react-i18next';\nimport styles from 'components/News/News.module.scss';\nimport Loader from 'components/Loader';\nimport FilterInput from 'helpers/FilterInput';\nimport notices from 'helpers/Notification';\nimport apiServices from 'services/apiServices';\nimport ScrollToTop from 'react-scroll-to-top';\nimport ScrollToTopBtn from 'components/ScrollToTopBtn/ScrollToTopBtn';\nconst News = () => {\n  const { t } = useTranslation();\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const [searchingNewsData, setSearchingNewsData] = useState(null);\n\n  useEffect(() => {\n    async function fetchNews() {\n      try {\n        setIsLoaded(true);\n        const { data } = await apiServices.getNews(page);\n\n        setItems(prewState => [...prewState, ...data.data]);\n        if (data.data.length < 9) {\n          setHasMore(false);\n          notices.showSuccess('Thats all News');\n        }\n        setIsLoaded(false);\n      } catch (error) {\n        setIsLoaded(false);\n        return notices.showError('Oops, try again');\n      }\n    }\n\n    fetchNews();\n  }, [page]);\n\n  async function searchNews(e) {\n    e.preventDefault();\n    const { search } = e.target.elements;\n\n    if (search.value.trim() === '') {\n      setSearchingNewsData(null);\n      return;\n    }\n    try {\n      setIsLoaded(true);\n      const { data: searchData } = await apiServices.searchNews(search.value);\n      setSearchingNewsData(searchData);\n      setIsLoaded(false);\n    } catch (error) {\n      setIsLoaded(false);\n\n      return notices.showError('Sorry, no news found, try again');\n    }\n  }\n\n  const handleInputChange = evt => {\n    if (evt.target.value.trim()) {\n      return;\n    }\n    setSearchingNewsData(null);\n  };\n\n  const shortenText = (text, max) => {\n    return text && text.length > max\n      ? `${text.slice(0, max).split(' ').slice(0, -1).join(' ')}...`\n      : text;\n  };\n  function handleShowMore() {\n    setPage(page + 1);\n  }\n\n  return (\n    <div className={styles.newsWrap}>\n      <h1 className={styles.title}>{t('news.title')}</h1>\n      <FilterInput onSubmit={searchNews} onChange={handleInputChange} />\n      {isLoaded && <Loader />}\n      {searchingNewsData ? (\n        <ul className={styles.box}>\n          {searchingNewsData.map(({ _id, title, description, date, url }) => {\n            return (\n              <li key={_id} className={styles.newsItem}>\n                <article>\n                  <h2 className={styles.articleName}>\n                    {shortenText(title, 50)}\n                  </h2>\n                  <p className={styles.text}>{shortenText(description, 225)}</p>\n                  <div className={styles.additional}>\n                    <span className={styles.date}>\n                      {format(new Date(date), 'dd/MM/yyyy')}\n                    </span>\n                    <a\n                      href={url}\n                      className={styles.readMore}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      Read more\n                    </a>\n                  </div>\n                </article>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        <InfiniteScroll\n          className={styles.box}\n          dataLength={items.length}\n          next={handleShowMore}\n          hasMore={hasMore}\n          scrollThreshold={1}\n        >\n          {items.map(({ _id, title, description, date, url }) => {\n            return (\n              <li key={_id} className={styles.newsItem}>\n                <article>\n                  <h2 className={styles.articleName}>\n                    {shortenText(title, 50)}\n                  </h2>\n                  <p className={styles.text}>{shortenText(description, 225)}</p>\n                  <div className={styles.additional}>\n                    <span className={styles.date}>\n                      {format(new Date(date), 'dd/MM/yyyy')}\n                    </span>\n                    <a\n                      href={url}\n                      className={styles.readMore}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      Read more\n                    </a>\n                  </div>\n                </article>\n              </li>\n            );\n          })}\n        </InfiniteScroll>\n      )}\n      <ScrollToTop\n        smooth\n        component={<ScrollToTopBtn />}\n        style={{ boxShadow: 'none' }}\n      />\n    </div>\n  );\n};\n\nexport default News;\n","import News from 'components/News';\nimport Container from 'components/Container/Container';\n\nconst NewsPage = () => {\n  return (\n    <main>\n      <Container>\n        <News />\n      </Container>\n    </main>\n  );\n};\n\nexport default NewsPage;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://fetch-friend.herokuapp.com/api';\n\nconst getAllFriends = async () => {\n  return await axios.get('/friends');\n};\n\nconst getNews = async page => {\n  return await axios.get(`/news?page=${page}`);\n};\nconst searchNews = async query => {\n  return await axios.get(`/news/search?title=${query}`);\n};\nconst apiServices = {\n  getAllFriends,\n  getNews,\n  searchNews,\n};\nexport default apiServices;\n"],"names":["ScrollToTopBtn","className","styles","viewBox","xmlns","d","onSubmit","onChange","cssClass","htmlFor","type","name","id","placeholder","notices","showError","text","toast","showSuccess","showWarning","t","useTranslation","useState","isLoaded","setIsLoaded","items","setItems","page","setPage","hasMore","setHasMore","searchingNewsData","setSearchingNewsData","e","preventDefault","search","target","elements","value","trim","apiServices","searchData","data","useEffect","prewState","length","fetchNews","shortenText","max","slice","split","join","FilterInput","evt","Loader","map","_id","title","description","date","url","format","Date","href","rel","dataLength","next","scrollThreshold","smooth","component","style","boxShadow","Container","axios","getAllFriends","getNews","searchNews","query"],"sourceRoot":""}