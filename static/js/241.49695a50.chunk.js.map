{"version":3,"file":"static/js/241.49695a50.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/News/News.module.scss?cf64","webpack://react-homework-template/./src/helpers/FilterInput/FilterInput.module.scss?9729","helpers/FilterInput/FilterInput.jsx","helpers/HighlightText/HighlightText.jsx","components/News/News.jsx","pages/NewsPage.jsx","services/apiServices.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"newsWrap\":\"News_newsWrap__qHh1+\",\"title\":\"News_title__eqYv-\",\"box\":\"News_box__E9dik\",\"newsItem\":\"News_newsItem__6DvvE\",\"articleName\":\"News_articleName__LYAy-\",\"text\":\"News_text__Ps51B\",\"additional\":\"News_additional__uOFiC\",\"date\":\"News_date__D3o7H\",\"readMore\":\"News_readMore__fNfmn\"};","// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"search\":\"FilterInput_search__waR2z\",\"label\":\"FilterInput_label__YJ6od\",\"input\":\"FilterInput_input__SwtDH\",\"searchIcon\":\"FilterInput_searchIcon__XfCTQ\"};","import { IoMdSearch } from 'react-icons/io';\nimport { DebounceInput } from 'react-debounce-input';\nimport PropTypes from 'prop-types';\n\nimport styles from './FilterInput.module.scss';\n\nconst FilterInput = ({ value, onChange }) => {\n  return (\n    <div className={styles.search}>\n      <label htmlFor=\"search\" className={styles.label}>\n        <DebounceInput\n          debounceTimeout={400}\n          type=\"search\"\n          value={value}\n          onChange={e => onChange(e.target.value.trim())}\n          name=\"search\"\n          id=\"search\"\n          placeholder=\"Search\"\n          className={styles.input}\n        />\n        <i className={styles.searchIcon} aria-hidden=\"true\">\n          <IoMdSearch />\n        </i>\n      </label>\n    </div>\n  );\n};\n\nFilterInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default FilterInput;\n","import PropTypes from 'prop-types';\n\nconst HighlightText = ({ result, query }) => {\n  return result.split(new RegExp(`(${query})`, `gi`)).map((piece, index) => (\n    <span\n      key={index}\n      style={{\n        backgroundColor:\n          piece.toLowerCase() === query.toLocaleLowerCase()\n            ? 'YELLOW'\n            : 'TRANSPARENT',\n      }}\n    >\n      {piece}\n    </span>\n  ));\n};\n\nHighlightText.propTypes = {\n  result: PropTypes.string.isRequired,\n  query: PropTypes.string.isRequired,\n};\n\nexport default HighlightText;\n","import { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\n\nimport styles from 'components/News/News.module.scss';\nimport Loader from 'components/Loader';\nimport FilterInput from 'helpers/FilterInput';\nimport notices from 'helpers/Notification';\nimport apiServices from 'services/apiServices';\nimport HighlightText from 'helpers/HighlightText';\n\nconst News = ({ title }) => {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  const [query, setQuery] = useState('');\n  const [searchParam] = useState(['title', 'description']);\n\n  useEffect(() => {\n    async function fetchNews() {\n      try {\n        const { data } = await apiServices.getNews();\n        setIsLoaded(true);\n        setItems(data.data);\n      } catch (error) {\n        setIsLoaded(true);\n        setError(error);\n      }\n    }\n    fetchNews();\n  }, []);\n\n  const searchNews = items => {\n    const FilteredItems = items.filter(item =>\n      searchParam.some(\n        newItem =>\n          item[newItem].toString().toLowerCase().indexOf(query.toLowerCase()) >\n          -1\n      )\n    );\n    if (FilteredItems < 1) {\n      notices.showWarning('No matching news found');\n    }\n    return FilteredItems;\n  };\n\n  if (error) {\n    notices.showError('Oops, something wrong, try again');\n  } else if (!isLoaded) {\n    return <Loader />;\n  } else {\n    return (\n      <div className={styles.newsWrap}>\n        <h1 className={styles.title}>{title}</h1>\n        <FilterInput value={query} onChange={setQuery} />\n\n        <ul className={styles.box}>\n          {searchNews(items).map(item => {\n            return (\n              <li key={item._id} className={styles.newsItem}>\n                {query.length > 1 ? (\n                  <article>\n                    <h2 className={styles.articleName}>\n                      <HighlightText result={item.title} query={query} />\n                    </h2>\n                    <p className={styles.text}>\n                      <HighlightText result={item.description} query={query} />\n                    </p>\n\n                    <div className={styles.additional}>\n                      <span className={styles.date}>\n                        {format(new Date(item.date), 'dd/MM/yyyy')}\n                      </span>\n                      <a\n                        href={item.url}\n                        className={styles.readMore}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                      >\n                        Read more\n                      </a>\n                    </div>\n                  </article>\n                ) : (\n                  <article>\n                    <h2 className={styles.articleName}>{item.title}</h2>\n                    <p className={styles.text}>{item.description}</p>\n\n                    <div className={styles.additional}>\n                      <span className={styles.date}>\n                        {format(new Date(item.date), 'dd/MM/yyyy')}\n                      </span>\n                      <a\n                        href={item.url}\n                        className={styles.readMore}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                      >\n                        Read more\n                      </a>\n                    </div>\n                  </article>\n                )}\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n};\n\nexport default News;\n","import News from 'components/News/News';\n\nconst NewsPage = () => {\n  return (\n    <div>\n      <News title=\"News\" />\n    </div>\n  );\n};\n\nexport default NewsPage;\n","import axios from 'axios';\naxios.defaults.baseURL = 'http://localhost:3000/api';\n\nconst getAllFriends = async () => {\n  return await axios.get('/friends');\n};\n\nconst getNews = async () => {\n  return await axios.get('/news');\n};\n\nconst apiServices = {\n  getAllFriends,\n  getNews,\n};\nexport default apiServices;\n"],"names":["value","onChange","className","styles","htmlFor","DebounceInput","debounceTimeout","type","e","target","trim","name","id","placeholder","result","query","split","RegExp","map","piece","index","style","backgroundColor","toLowerCase","toLocaleLowerCase","title","useState","error","setError","isLoaded","setIsLoaded","items","setItems","setQuery","searchParam","useEffect","apiServices","data","fetchNews","FilteredItems","filter","item","some","newItem","toString","indexOf","notices","searchNews","length","description","format","Date","date","href","url","rel","_id","Loader","axios","getAllFriends","getNews"],"sourceRoot":""}