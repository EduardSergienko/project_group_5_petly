"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[241],{6966:function(e,r,t){t.d(r,{Z:function(){return n.Z}});var n=t(9198)},241:function(e,r,t){t.r(r),t.d(r,{default:function(){return F}});var n=t(5861),s=t(885),a=t(7757),c=t.n(a),i=t(2791),u=t(8977),l="News_newsWrap__qHh1+",o="News_title__eqYv-",d="News_box__E9dik",h="News_newsItem__6DvvE",p="News_articleName__LYAy-",f="News_text__Ps51B",_="News_additional__uOFiC",m="News_date__D3o7H",x="News_readMore__fNfmn",w=t(7048),N=t(4373),j=t(3628),v="FilterInput_search__waR2z",g="FilterInput_label__YJ6od",y="FilterInput_input__SwtDH",Z="FilterInput_searchIcon__XfCTQ",k=t(184),b=function(e){var r=e.value,t=e.onChange;return(0,k.jsx)("div",{className:v,children:(0,k.jsxs)("label",{htmlFor:"search",className:g,children:[(0,k.jsx)(j.DebounceInput,{debounceTimeout:400,type:"search",value:r,onChange:function(e){return t(e.target.value.trim())},name:"search",id:"search",placeholder:"Search",className:y}),(0,k.jsx)("i",{className:Z,"aria-hidden":"true",children:(0,k.jsx)(N.y5k,{})})]})})},C=t(6966),L=t(6589),S=function(e){var r=e.result,t=e.query;return r.split(new RegExp("(".concat(t,")"),"gi")).map((function(e,r){return(0,k.jsx)("span",{style:{backgroundColor:e.toLowerCase()===t.toLocaleLowerCase()?"YELLOW":"TRANSPARENT"},children:e},r)}))},E=function(e){var r=e.title,t=(0,i.useState)(null),a=(0,s.Z)(t,2),N=a[0],j=a[1],v=(0,i.useState)(!1),g=(0,s.Z)(v,2),y=g[0],Z=g[1],E=(0,i.useState)([]),F=(0,s.Z)(E,2),I=F[0],R=F[1],D=(0,i.useState)(""),q=(0,s.Z)(D,2),M=q[0],P=q[1],A=(0,i.useState)(["title","description"]),O=(0,s.Z)(A,1)[0];(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(c().mark((function e(){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.Z.getNews();case 3:r=e.sent,t=r.data,Z(!0),R(t.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),Z(!0),j(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);if(!N)return y?(0,k.jsxs)("div",{className:l,children:[(0,k.jsx)("h1",{className:o,children:r}),(0,k.jsx)(b,{value:M,onChange:P}),(0,k.jsx)("ul",{className:d,children:function(e){var r=e.filter((function(e){return O.some((function(r){return e[r].toString().toLowerCase().indexOf(M.toLowerCase())>-1}))}));return r<1&&C.Z.showWarning("No matching news found"),r}(I).map((function(e){return(0,k.jsx)("li",{className:h,children:M.length>1?(0,k.jsxs)("article",{children:[(0,k.jsx)("h2",{className:p,children:(0,k.jsx)(S,{result:e.title,query:M})}),(0,k.jsx)("p",{className:f,children:(0,k.jsx)(S,{result:e.description,query:M})}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("span",{className:m,children:(0,u.Z)(new Date(e.date),"dd/MM/yyyy")}),(0,k.jsx)("a",{href:e.url,className:x,target:"_blank",rel:"noreferrer",children:"Read more"})]})]}):(0,k.jsxs)("article",{children:[(0,k.jsx)("h2",{className:p,children:e.title}),(0,k.jsx)("p",{className:f,children:e.description}),(0,k.jsxs)("div",{className:_,children:[(0,k.jsx)("span",{className:m,children:(0,u.Z)(new Date(e.date),"dd/MM/yyyy")}),(0,k.jsx)("a",{href:e.url,className:x,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},e._id)}))})]}):(0,k.jsx)(w.Z,{});C.Z.showError("Oops, something wrong, try again")},F=function(){return(0,k.jsx)("div",{children:(0,k.jsx)(E,{title:"News"})})}},6589:function(e,r,t){var n=t(5861),s=t(7757),a=t.n(s),c=t(1044);c.ZP.defaults.baseURL="http://localhost:3001/api";var i=function(){var e=(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/friends");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l={getAllFriends:i,getNews:u};r.Z=l}}]);
//# sourceMappingURL=241.f9bf0870.chunk.js.map