"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[782],{1665:function(e,n,r){r.d(n,{Z:function(){return s}});var t="ScrollToTopBtn_ScrollToTopBtn__YhYpQ",a=r(184);function s(){return(0,a.jsx)("svg",{className:t,viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM390.6 310.6c-12.5 12.5-32.75 12.5-45.25 0L256 221.3L166.6 310.6c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l112-112C239.6 147.1 247.8 144 256 144s16.38 3.125 22.62 9.375l112 112C403.1 277.9 403.1 298.1 390.6 310.6z"})})}},5685:function(e,n,r){r.d(n,{Z:function(){return h}});var t=r(4373),a=r(3168),s="FilterInput_search__waR2z",c="FilterInput_label__YJ6od",o="FilterInput_input__SwtDH",u="FilterInput_searchIcon__XfCTQ",i="FilterInput_searchBtn__W1bj3",l=r(184),h=function(e){var n=e.onSubmit,r=e.onChange,h=e.cssClass,d=(0,a.$)().t;return(0,l.jsx)("form",{onSubmit:n,className:"".concat(s," ").concat(h),children:(0,l.jsxs)("label",{htmlFor:"search",className:c,children:[(0,l.jsx)("input",{type:"text",name:"search",id:"search",placeholder:d("news.search"),className:o,onChange:r}),(0,l.jsx)("button",{className:i,type:"submit",children:(0,l.jsx)(t.y5k,{className:u})})]})})}},9198:function(e,n,r){var t=r(8174),a={showError:function(e){return t.Am.error(e)},showSuccess:function(e){return t.Am.success(e)},showWarning:function(e){return t.Am.warn(e)}};n.Z=a},6966:function(e,n,r){r.d(n,{Z:function(){return t.Z}});var t=r(9198)},9782:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var t=r(3433),a=r(5861),s=r(9439),c=r(4687),o=r.n(c),u=r(2791),i=r(8977),l=r(4771),h=r(3168),d="News_newsWrap__qHh1+",p="News_title__eqYv-",f="News_box__E9dik",m="News_newsItem__6DvvE",w="News_articleName__LYAy-",_="News_text__Ps51B",x="News_additional__uOFiC",v="News_date__D3o7H",N="News_readMore__fNfmn",g=r(5685),j=r(6966),Z=r(6589),b=r(7821),y=r.n(b),k=r(1665),C=r(3742),S=r(184),L=function(){var e=(0,h.$)().t,n=(0,u.useState)([]),r=(0,s.Z)(n,2),c=r[0],b=r[1],L=(0,u.useState)(1),F=(0,s.Z)(L,2),M=F[0],I=F[1],T=(0,u.useState)(!0),D=(0,s.Z)(T,2),E=D[0],A=D[1],B=(0,u.useState)(null),P=(0,s.Z)(B,2),Y=P[0],R=P[1];function z(){return(z=(0,a.Z)(o().mark((function e(n){var r,t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==(r=n.target.elements.search).value.trim()){e.next=5;break}return R(null),e.abrupt("return");case 5:return e.prev=5,C.Loading.arrows({svgColor:"#f59256",backgroundColor:"rgba(0,0,0,0.1)"}),e.next=9,Z.Z.searchNews(r.value);case 9:t=e.sent,a=t.data,R(a),C.Loading.remove(),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),C.Loading.remove(),e.abrupt("return",j.Z.showError("Sorry, no news found, try again"));case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}(0,u.useEffect)((function(){function e(){return(e=(0,a.Z)(o().mark((function e(){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C.Loading.arrows({svgColor:"#f59256",backgroundColor:"rgba(0,0,0,0.1)"}),e.next=4,Z.Z.getNews(M);case 4:n=e.sent,r=n.data,b((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(r.data))})),r.data.length<9&&(A(!1),j.Z.showSuccess("Thats all News")),C.Loading.remove(),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),C.Loading.remove(),e.abrupt("return",j.Z.showError("Oops, try again"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[M]);var H=function(e,n){return e&&e.length>n?"".concat(e.slice(0,n).split(" ").slice(0,-1).join(" "),"..."):e};return(0,S.jsxs)("div",{className:d,children:[(0,S.jsx)("h1",{className:p,children:e("news.title")}),(0,S.jsx)(g.Z,{onSubmit:function(e){return z.apply(this,arguments)},onChange:function(e){e.target.value.trim()||R(null)}}),Y?(0,S.jsx)("ul",{className:f,children:Y.map((function(e){var n=e._id,r=e.title,t=e.description,a=e.date,s=e.url;return(0,S.jsx)("li",{className:m,children:(0,S.jsxs)("article",{children:[(0,S.jsx)("h2",{className:w,children:H(r,50)}),(0,S.jsx)("p",{className:_,children:H(t,225)}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("span",{className:v,children:(0,i.Z)(new Date(a),"dd/MM/yyyy")}),(0,S.jsx)("a",{href:s,className:N,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},n)}))}):(0,S.jsx)(l.Z,{className:f,dataLength:c.length,next:function(){I(M+1)},hasMore:E,scrollThreshold:1,children:c.map((function(e){var n=e._id,r=e.title,t=e.description,a=e.date,s=e.url;return(0,S.jsx)("li",{className:m,children:(0,S.jsxs)("article",{children:[(0,S.jsx)("h2",{className:w,children:H(r,50)}),(0,S.jsx)("p",{className:_,children:H(t,225)}),(0,S.jsxs)("div",{className:x,children:[(0,S.jsx)("span",{className:v,children:(0,i.Z)(new Date(a),"dd/MM/yyyy")}),(0,S.jsx)("a",{href:s,className:N,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},n)}))}),(0,S.jsx)(y(),{smooth:!0,component:(0,S.jsx)(k.Z,{}),style:{boxShadow:"none"}})]})},F=r(3409),M=function(){return(0,S.jsx)("main",{children:(0,S.jsx)(F.Z,{children:(0,S.jsx)(L,{})})})}},6589:function(e,n,r){var t=r(5861),a=r(4687),s=r.n(a),c=r(1044);c.ZP.defaults.baseURL="https://fetch-friends.onrender.com/api";var o=function(){var e=(0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/friends");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news?page=".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),i=function(){var e=(0,t.Z)(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news/search?title=".concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l={getAllFriends:o,getNews:u,searchNews:i};n.Z=l}}]);
//# sourceMappingURL=782.e810d5cc.chunk.js.map