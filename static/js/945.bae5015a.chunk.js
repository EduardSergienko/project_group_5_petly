(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[945],{4945:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(1413),s=t(885),o=t(2791),a=t(9434),i=t(1087),l=t(5705),u=t(3853),c=t(9983),h="AuthForm_formWrap__i1s5e",d="AuthForm_title__WkPPr",p="AuthForm_form__kV4hH",f="AuthForm_formGroup__FWdnw",m="AuthForm_input__sMieH",v="AuthForm_icon__Z6Tyz",g="AuthForm_button__B5dfz",k="AuthForm_back__oD66-",w="AuthForm_textHint__hVame",x="AuthForm_link__xk1HL",S="AuthForm_errorMsg__JvpxU",C=t(7103),j=t(184),O=function(e){var n=e.onNextStep,t=e.formData,r=(0,o.useState)(!1),a=(0,s.Z)(r,2),i=a[0],h=a[1],d=(0,o.useState)(!1),k=(0,s.Z)(d,2),w=k[0],x=k[1],O=C.Ry({email:C.Z_().email("Invalid email address").required("Required"),password:C.Z_().matches(/^\S*$/,"Whitespace is not allowed").min(7,"Password is too short").max(32,"Password is too long").required("Required"),confirmPassword:C.Z_().oneOf([C.iH("password"),null],"Passwords must match").required("Required")});return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(l.J9,{initialValues:t,validationSchema:O,onSubmit:function(e){n(e)},children:function(){return(0,j.jsxs)(l.l0,{className:p,children:[(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(l.gN,{className:m,name:"email",type:"text",placeholder:"Email"}),(0,j.jsx)(l.Bc,{name:"email",render:function(e){return(0,j.jsx)("div",{className:S,children:e})}})]}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(l.gN,{className:m,name:"password",type:i?"text":"password",placeholder:"Password"}),(0,j.jsxs)("span",{className:v,onClick:function(){return h(!i)},children:[i&&(0,j.jsx)(c.Pd.Provider,{value:{style:{verticalAlign:"middle"}},children:(0,j.jsx)(u.rDJ,{})}),!i&&(0,j.jsx)(c.Pd.Provider,{value:{style:{verticalAlign:"middle"}},children:(0,j.jsx)(u.rzC,{})})]}),(0,j.jsx)(l.Bc,{name:"password",render:function(e){return(0,j.jsx)("div",{className:S,children:e})}})]}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(l.gN,{className:m,name:"confirmPassword",type:w?"text":"password",placeholder:"Confirm Password"}),(0,j.jsxs)("span",{className:v,onClick:function(){return x(!w)},children:[w&&(0,j.jsx)(c.Pd.Provider,{value:{style:{verticalAlign:"middle"}},children:(0,j.jsx)(u.rDJ,{})}),!w&&(0,j.jsx)(c.Pd.Provider,{value:{style:{verticalAlign:"middle"}},children:(0,j.jsx)(u.rzC,{})})]}),(0,j.jsx)(l.Bc,{name:"confirmPassword",render:function(e){return(0,j.jsx)("div",{className:S,children:e})}})]}),(0,j.jsx)("button",{className:g,type:"submit",children:"Next"})]})}})})},N=t(9504),b=t.n(N);var y=function(e){var n=e.onNextStep,t=e.onPrevStep,s=e.formData,o=C.Ry({name:C.Z_().min(4,"Name is too short").required("Required"),location:C.Z_().min(4,"Location is too short").required("Required"),phone:C.Z_().required("Required").test("phone","Phone is not valid",(function(e){return 13===(null===e||void 0===e?void 0:e.replace(/-|_/g,"").length)}))});return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(l.J9,{initialValues:s,validationSchema:o,onSubmit:function(e){n(e,!0)},children:function(e){var n=e.values;return(0,j.jsxs)(l.l0,{className:p,children:[(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(l.gN,{className:m,name:"name",type:"text",placeholder:"Name"}),(0,j.jsx)(l.Bc,{name:"name",render:function(e){return(0,j.jsx)("div",{className:S,children:e})}})]}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(l.gN,{className:m,name:"location",type:"text",placeholder:"City, region"}),(0,j.jsx)(l.Bc,{name:"location",render:function(e){return(0,j.jsx)("div",{className:S,children:e})}})]}),(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)(l.gN,{name:"phone",children:function(e){var n=e.field;return(0,j.jsx)(b(),(0,r.Z)((0,r.Z)({},n),{},{className:m,mask:"+380999999999",id:"phone",placeholder:"Mobile phone"}))}}),(0,j.jsx)(l.Bc,{name:"phone",render:function(e){return(0,j.jsx)("div",{className:S,children:e})}})]}),(0,j.jsx)("button",{className:g,type:"submit",children:"Register"}),(0,j.jsx)("button",{onClick:function(){t(n)},className:k,type:"button",children:"Back"})]})}})})},P=t(3535),D=function(){var e=(0,a.I0)(),n=(0,o.useState)(0),t=(0,s.Z)(n,2),l=t[0],u=t[1],c=(0,o.useState)({email:"",password:"",confirmPassword:"",name:"",location:"",phone:""}),p=(0,s.Z)(c,2),f=p[0],m=p[1],v=function(n){e(P.r5.register(n))},g=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m((function(n){return(0,r.Z)((0,r.Z)({},n),e)})),n?v(e):u((function(e){return e+1}))},k=function(e){m((function(n){return(0,r.Z)((0,r.Z)({},n),e)})),u((function(e){return e-1}))};return(0,j.jsxs)("div",{className:h,children:[(0,j.jsx)("h1",{className:d,children:"Registration"}),0===l?(0,j.jsx)(O,{onNextStep:g,formData:f}):1===l?(0,j.jsx)(y,{onNextStep:g,onPrevStep:k,formData:f}):void 0,(0,j.jsxs)("p",{className:w,children:["Already have an account?\xa0",(0,j.jsx)(i.OL,{className:x,to:"/login",children:"Login"})]})]})},M=t(4962),_=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(D,{}),(0,j.jsx)(M.Z,{})]})}},9504:function(e,n,t){e.exports=t(269)},269:function(e,n,t){"use strict";var r,s=(r=t(2791))&&"object"==typeof r&&"default"in r?r.default:r,o=t(4164);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function i(e,n){e.prototype=Object.create(n.prototype),function(e,n){for(var t=Object.getOwnPropertyNames(n),r=0;r<t.length;r++){var s=t[r],o=Object.getOwnPropertyDescriptor(n,s);o&&o.configurable&&void 0===e[s]&&Object.defineProperty(e,s,o)}}(e.prototype.constructor=e,n)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e,n,t,r,s,o,a,i){if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[t,r,s,o,a,i],c=0;(l=new Error(n.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}};function c(e,n,t){if("selectionStart"in e&&"selectionEnd"in e)e.selectionStart=n,e.selectionEnd=t;else{var r=e.createTextRange();r.collapse(!0),r.moveStart("character",n),r.moveEnd("character",t-n),r.select()}}var h={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"};function d(e,n,t){var r="",s="",o=null,a=[];if(void 0===n&&(n="_"),null==t&&(t=h),!e||"string"!=typeof e)return{maskChar:n,formatChars:t,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};var i=!1;return e.split("").forEach((function(e){i=!i&&"\\"===e||(i||!t[e]?(a.push(r.length),r.length===a.length-1&&(s+=e)):o=r.length+1,r+=e,!1)})),{maskChar:n,formatChars:t,prefix:s,mask:r,lastEditablePosition:o,permanents:a}}function p(e,n){return-1!==e.permanents.indexOf(n)}function f(e,n,t){var r=e.mask,s=e.formatChars;if(!t)return!1;if(p(e,n))return r[n]===t;var o=s[r[n]];return new RegExp(o).test(t)}function m(e,n){return n.split("").every((function(n,t){return p(e,t)||!f(e,t,n)}))}function v(e,n){var t=e.maskChar,r=e.prefix;if(!t){for(;n.length>r.length&&p(e,n.length-1);)n=n.slice(0,n.length-1);return n.length}for(var s=r.length,o=n.length;o>=r.length;o--){var a=n[o];if(!p(e,o)&&f(e,o,a)){s=o+1;break}}return s}function g(e,n){return v(e,n)===e.mask.length}function k(e,n){var t=e.maskChar,r=e.mask,s=e.prefix;if(!t){for((n=w(e,"",n,0)).length<s.length&&(n=s);n.length<r.length&&p(e,n.length);)n+=r[n.length];return n}if(n)return w(e,k(e,""),n,0);for(var o=0;o<r.length;o++)p(e,o)?n+=r[o]:n+=t;return n}function w(e,n,t,r){var s=e.mask,o=e.maskChar,a=e.prefix,i=t.split(""),l=g(e,n);return!o&&r>n.length&&(n+=s.slice(n.length,r)),i.every((function(t){for(;c=t,p(e,u=r)&&c!==s[u];){if(r>=n.length&&(n+=s[r]),i=t,o&&p(e,r)&&i===o)return!0;if(++r>=s.length)return!1}var i,u,c;return!f(e,r,t)&&t!==o||(r<n.length?n=o||l||r<a.length?n.slice(0,r)+t+n.slice(r+1):(n=n.slice(0,r)+t+n.slice(r),k(e,n)):o||(n+=t),++r<s.length)})),n}function x(e,n){for(var t=e.mask,r=n;r<t.length;++r)if(!p(e,r))return r;return null}function S(e){return e||0===e?e+"":""}function C(e,n,t,r,s){var o=e.mask,a=e.prefix,i=e.lastEditablePosition,l=n,u="",c=0,h=0,d=Math.min(s.start,t.start);return t.end>s.start?h=(c=function(e,n,t,r){var s=e.mask,o=e.maskChar,a=t.split(""),i=r;return a.every((function(n){for(;a=n,p(e,t=r)&&a!==s[t];)if(++r>=s.length)return!1;var t,a;return(f(e,r,n)||n===o)&&r++,r<s.length})),r-i}(e,0,u=l.slice(s.start,t.end),d))?s.length:0:l.length<r.length&&(h=r.length-l.length),l=r,h&&(1!==h||s.length||(d=s.start===t.start?x(e,t.start):function(e,n){for(var t=n;0<=t;--t)if(!p(e,t))return t;return null}(e,t.start)),l=function(e,n,t,r){var s=t+r,o=e.maskChar,a=e.mask,i=e.prefix,l=n.split("");if(o)return l.map((function(n,r){return r<t||s<=r?n:p(e,r)?a[r]:o})).join("");for(var u=s;u<l.length;u++)p(e,u)&&(l[u]="");return t=Math.max(i.length,t),l.splice(t,s-t),n=l.join(""),k(e,n)}(e,l,d,h)),l=w(e,l,u,d),(d+=c)>=o.length?d=o.length:d<a.length&&!c?d=a.length:d>=a.length&&d<i&&c&&(d=x(e,d)),u||(u=null),{value:l=k(e,l),enteredString:u,selection:{start:d,end:d}}}function j(e){return"function"==typeof e}function O(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame}function N(e){return(O()?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame:function(){return setTimeout(e,1e3/60)})(e)}function b(e){(O()||clearTimeout)(e)}var y=function(e){function n(n){var t=e.call(this,n)||this;t.focused=!1,t.mounted=!1,t.previousSelection=null,t.selectionDeferId=null,t.saveSelectionLoopDeferId=null,t.saveSelectionLoop=function(){t.previousSelection=t.getSelection(),t.saveSelectionLoopDeferId=N(t.saveSelectionLoop)},t.runSaveSelectionLoop=function(){null===t.saveSelectionLoopDeferId&&t.saveSelectionLoop()},t.stopSaveSelectionLoop=function(){null!==t.saveSelectionLoopDeferId&&(b(t.saveSelectionLoopDeferId),t.saveSelectionLoopDeferId=null,t.previousSelection=null)},t.getInputDOMNode=function(){if(!t.mounted)return null;var e=o.findDOMNode(l(l(t))),n="undefined"!=typeof window&&e instanceof window.Element;if(e&&!n)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},t.getInputValue=function(){var e=t.getInputDOMNode();return e?e.value:null},t.setInputValue=function(e){var n=t.getInputDOMNode();n&&(t.value=e,n.value=e)},t.setCursorToEnd=function(){var e=v(t.maskOptions,t.value),n=x(t.maskOptions,e);null!==n&&t.setCursorPosition(n)},t.setSelection=function(e,n,r){void 0===r&&(r={});var s=t.getInputDOMNode(),o=t.isFocused();s&&o&&(r.deferred||c(s,e,n),null!==t.selectionDeferId&&b(t.selectionDeferId),t.selectionDeferId=N((function(){t.selectionDeferId=null,c(s,e,n)})),t.previousSelection={start:e,end:n,length:Math.abs(n-e)})},t.getSelection=function(){return function(e){var n=0,t=0;if("selectionStart"in e&&"selectionEnd"in e)n=e.selectionStart,t=e.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===e&&(n=-r.moveStart("character",-e.value.length),t=-r.moveEnd("character",-e.value.length))}return{start:n,end:t,length:t-n}}(t.getInputDOMNode())},t.getCursorPosition=function(){return t.getSelection().start},t.setCursorPosition=function(e){t.setSelection(e,e)},t.isFocused=function(){return t.focused},t.getBeforeMaskedValueChangeConfig=function(){var e=t.maskOptions,n=e.mask,r=e.maskChar,s=e.permanents,o=e.formatChars;return{mask:n,maskChar:r,permanents:s,alwaysShowMask:!!t.props.alwaysShowMask,formatChars:o}},t.isInputAutofilled=function(e,n,r,s){var o=t.getInputDOMNode();try{if(o.matches(":-webkit-autofill"))return!0}catch(u){}return!t.focused||s.end<r.length&&n.end===e.length},t.onChange=function(e){var n=l(l(t)).beforePasteState,r=l(l(t)).previousSelection,s=t.props.beforeMaskedValueChange,o=t.getInputValue(),a=t.value,i=t.getSelection();t.isInputAutofilled(o,i,a,r)&&(a=k(t.maskOptions,""),r={start:0,end:0,length:0}),n&&(r=n.selection,a=n.value,i={start:r.start+o.length,end:r.start+o.length,length:0},o=a.slice(0,r.start)+o+a.slice(r.end),t.beforePasteState=null);var u=C(t.maskOptions,o,i,a,r),c=u.enteredString,h=u.selection,d=u.value;if(j(s)){var p=s({value:d,selection:h},{value:a,selection:r},c,t.getBeforeMaskedValueChangeConfig());d=p.value,h=p.selection}t.setInputValue(d),j(t.props.onChange)&&t.props.onChange(e),t.isWindowsPhoneBrowser?t.setSelection(h.start,h.end,{deferred:!0}):t.setSelection(h.start,h.end)},t.onFocus=function(e){var n=t.props.beforeMaskedValueChange,r=t.maskOptions,s=r.mask,o=r.prefix;if(t.focused=!0,t.mounted=!0,s){if(t.value)v(t.maskOptions,t.value)<t.maskOptions.mask.length&&t.setCursorToEnd();else{var a=k(t.maskOptions,o),i=k(t.maskOptions,a),l=v(t.maskOptions,i),u=x(t.maskOptions,l),c={start:u,end:u};if(j(n)){var h=n({value:i,selection:c},{value:t.value,selection:null},null,t.getBeforeMaskedValueChangeConfig());i=h.value,c=h.selection}var d=i!==t.getInputValue();d&&t.setInputValue(i),d&&j(t.props.onChange)&&t.props.onChange(e),t.setSelection(c.start,c.end)}t.runSaveSelectionLoop()}j(t.props.onFocus)&&t.props.onFocus(e)},t.onBlur=function(e){var n=t.props.beforeMaskedValueChange,r=t.maskOptions.mask;if(t.stopSaveSelectionLoop(),t.focused=!1,r&&!t.props.alwaysShowMask&&m(t.maskOptions,t.value)){var s="";j(n)&&(s=n({value:s,selection:null},{value:t.value,selection:t.previousSelection},null,t.getBeforeMaskedValueChangeConfig()).value);var o=s!==t.getInputValue();o&&t.setInputValue(s),o&&j(t.props.onChange)&&t.props.onChange(e)}j(t.props.onBlur)&&t.props.onBlur(e)},t.onMouseDown=function(e){if(!t.focused&&document.addEventListener){t.mouseDownX=e.clientX,t.mouseDownY=e.clientY,t.mouseDownTime=(new Date).getTime();document.addEventListener("mouseup",(function e(n){if(document.removeEventListener("mouseup",e),t.focused){var r=Math.abs(n.clientX-t.mouseDownX),s=Math.abs(n.clientY-t.mouseDownY),o=Math.max(r,s),a=(new Date).getTime()-t.mouseDownTime;(o<=10&&a<=200||o<=5&&a<=300)&&t.setCursorToEnd()}}))}j(t.props.onMouseDown)&&t.props.onMouseDown(e)},t.onPaste=function(e){j(t.props.onPaste)&&t.props.onPaste(e),e.defaultPrevented||(t.beforePasteState={value:t.getInputValue(),selection:t.getSelection()},t.setInputValue(""))},t.handleRef=function(e){null==t.props.children&&j(t.props.inputRef)&&t.props.inputRef(e)};var r=n.mask,s=n.maskChar,a=n.formatChars,i=n.alwaysShowMask,u=n.beforeMaskedValueChange,h=n.defaultValue,p=n.value;t.maskOptions=d(r,s,a),null==h&&(h=""),null==p&&(p=h);var f=S(p);if(t.maskOptions.mask&&(i||f)&&(f=k(t.maskOptions,f),j(u))){var g=n.value;null==n.value&&(g=h),f=u({value:f,selection:null},{value:g=S(g),selection:null},null,t.getBeforeMaskedValueChangeConfig()).value}return t.value=f,t}i(n,e);var t=n.prototype;return t.componentDidMount=function(){this.mounted=!0,this.getInputDOMNode()&&(this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),n=new RegExp("phone","i"),t=navigator.userAgent;return e.test(t)&&n.test(t)}(),this.maskOptions.mask&&this.getInputValue()!==this.value&&this.setInputValue(this.value))},t.componentDidUpdate=function(){var e=this.previousSelection,n=this.props,t=n.beforeMaskedValueChange,r=n.alwaysShowMask,s=n.mask,o=n.maskChar,a=n.formatChars,i=this.maskOptions,l=r||this.isFocused(),u=null!=this.props.value,c=u?S(this.props.value):this.value,h=e?e.start:null;if(this.maskOptions=d(s,o,a),this.maskOptions.mask){!i.mask&&this.isFocused()&&this.runSaveSelectionLoop();var p=this.maskOptions.mask&&this.maskOptions.mask!==i.mask;if(i.mask||u||(c=this.getInputValue()),(p||this.maskOptions.mask&&(c||l))&&(c=k(this.maskOptions,c)),p){var f=v(this.maskOptions,c);(null===h||f<h)&&(h=g(this.maskOptions,c)?f:x(this.maskOptions,f))}!this.maskOptions.mask||!m(this.maskOptions,c)||l||u&&this.props.value||(c="");var w={start:h,end:h};if(j(t)){var C=t({value:c,selection:w},{value:this.value,selection:this.previousSelection},null,this.getBeforeMaskedValueChangeConfig());c=C.value,w=C.selection}this.value=c;var O=this.getInputValue()!==this.value;O?(this.setInputValue(this.value),this.forceUpdate()):p&&this.forceUpdate();var N=!1;null!=w.start&&null!=w.end&&(N=!e||e.start!==w.start||e.end!==w.end),(N||O)&&this.setSelection(w.start,w.end)}else i.mask&&(this.stopSaveSelectionLoop(),this.forceUpdate())},t.componentWillUnmount=function(){this.mounted=!1,null!==this.selectionDeferId&&b(this.selectionDeferId),this.stopSaveSelectionLoop()},t.render=function(){var e,n=this.props,t=(n.mask,n.alwaysShowMask,n.maskChar,n.formatChars,n.inputRef,n.beforeMaskedValueChange,n.children),r=function(e,n){if(null==e)return{};var t,r,s={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],0<=n.indexOf(t)||(s[t]=e[t]);return s}(n,["mask","alwaysShowMask","maskChar","formatChars","inputRef","beforeMaskedValueChange","children"]);if(t){j(t)||u(!1);var o=["onChange","onPaste","onMouseDown","onFocus","onBlur","value","disabled","readOnly"],i=a({},r);o.forEach((function(e){return delete i[e]})),e=t(i),o.filter((function(n){return null!=e.props[n]&&e.props[n]!==r[n]})).length&&u(!1)}else e=s.createElement("input",a({ref:this.handleRef},r));var l={onFocus:this.onFocus,onBlur:this.onBlur};return this.maskOptions.mask&&(r.disabled||r.readOnly||(l.onChange=this.onChange,l.onPaste=this.onPaste,l.onMouseDown=this.onMouseDown),null!=r.value&&(l.value=this.value)),e=s.cloneElement(e,l)},n}(s.Component);e.exports=y}}]);
//# sourceMappingURL=945.bae5015a.chunk.js.map