{"version":3,"file":"static/js/800.b6fd0da4.chunk.js","mappings":"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","sources":["helpers/Notification/Notification.jsx","webpack://react-homework-template/./src/components/News/News.module.scss?cf64","webpack://react-homework-template/./src/helpers/FilterInput/FilterInput.module.scss?9729","helpers/FilterInput/FilterInput.jsx","helpers/HighlightText/HighlightText.jsx","components/News/News.jsx","pages/NewsPage.jsx","services/apiServices.js"],"sourcesContent":["import { toast } from 'react-toastify';\n\nconst showError = text => toast.error(text);\n\nconst showSuccess = text => toast.success(text);\n\nconst showWarning = text => toast.warn(text);\n\nconst notices = {\n  showError,\n  showSuccess,\n  showWarning,\n};\nexport default notices;\n","// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"hoverOrangeColor\":\"#e7884d\",\"primaryGrayColor\":\"rgba(17,17,17,.6)\",\"secondGrayColor\":\"#535353\",\"newsWrap\":\"News_newsWrap__qHh1+\",\"title\":\"News_title__eqYv-\",\"box\":\"News_box__E9dik\",\"newsItem\":\"News_newsItem__6DvvE\",\"articleName\":\"News_articleName__LYAy-\",\"text\":\"News_text__Ps51B\",\"additional\":\"News_additional__uOFiC\",\"date\":\"News_date__D3o7H\",\"readMore\":\"News_readMore__fNfmn\"};","// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"hoverOrangeColor\":\"#e7884d\",\"primaryGrayColor\":\"rgba(17,17,17,.6)\",\"secondGrayColor\":\"#535353\",\"search\":\"FilterInput_search__waR2z\",\"label\":\"FilterInput_label__YJ6od\",\"input\":\"FilterInput_input__SwtDH\",\"noValidate\":\"FilterInput_noValidate__Obbrr\",\"searchIcon\":\"FilterInput_searchIcon__XfCTQ\"};","import { IoMdSearch } from 'react-icons/io';\nimport { DebounceInput } from 'react-debounce-input';\nimport PropTypes from 'prop-types';\n\nimport styles from './FilterInput.module.scss';\n\nconst FilterInput = ({ value, onChange }) => {\n  return (\n    <div className={styles.search}>\n      <label htmlFor=\"search\" className={styles.label}>\n        <DebounceInput\n          debounceTimeout={400}\n          type=\"search\"\n          value={value}\n          onChange={e => onChange(e.target.value.trim())}\n          name=\"search\"\n          id=\"search\"\n          placeholder=\"Search\"\n          className={styles.input}\n        />\n        <i className={styles.searchIcon} aria-hidden=\"true\">\n          <IoMdSearch />\n        </i>\n      </label>\n    </div>\n  );\n};\n\nFilterInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default FilterInput;\n","import PropTypes from 'prop-types';\n\nconst HighlightText = ({ result, query }) => {\n  return result.split(new RegExp(`(${query})`, `gi`)).map((piece, index) => (\n    <span\n      key={index}\n      style={{\n        backgroundColor:\n          piece.toLowerCase() === query.toLocaleLowerCase()\n            ? 'YELLOW'\n            : 'TRANSPARENT',\n      }}\n    >\n      {piece}\n    </span>\n  ));\n};\n\nHighlightText.propTypes = {\n  result: PropTypes.string.isRequired,\n  query: PropTypes.string.isRequired,\n};\n\nexport default HighlightText;\n","import { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\n\nimport styles from 'components/News/News.module.scss';\nimport Loader from 'components/Loader';\nimport FilterInput from 'helpers/FilterInput';\nimport notices from 'helpers/Notification';\nimport apiServices from 'services/apiServices';\nimport HighlightText from 'helpers/HighlightText';\n\nconst News = () => {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  const [query, setQuery] = useState('');\n  const [searchParam] = useState(['title', 'description']);\n\n  useEffect(() => {\n    async function fetchNews() {\n      try {\n        const { data } = await apiServices.getNews();\n        setIsLoaded(true);\n        setItems(data.data);\n      } catch (error) {\n        setIsLoaded(true);\n        setError(error);\n      }\n    }\n    fetchNews();\n  }, []);\n\n  const shortenText = (text, max) => {\n    return text && text.length > max\n      ? `${text.slice(0, max).split(' ').slice(0, -1).join(' ')}...`\n      : text;\n  };\n\n  const searchNews = items => {\n    const FilteredItems = items.filter(item =>\n      searchParam.some(\n        newItem =>\n          item[newItem].toString().toLowerCase().indexOf(query.toLowerCase()) >\n          -1\n      )\n    );\n    if (FilteredItems < 1) {\n      notices.showWarning('No matching news found');\n    }\n    return FilteredItems;\n  };\n\n  if (error) {\n    notices.showError(error?.message || 'Oops, something wrong, try again');\n  } else if (!isLoaded) {\n    return <Loader />;\n  } else {\n    return (\n      <div className={styles.newsWrap}>\n        <h1 className={styles.title}>News</h1>\n        <FilterInput value={query} onChange={setQuery} />\n\n        <ul className={styles.box}>\n          {searchNews(items).map(({ _id, title, description, date, url }) => {\n            return (\n              <li key={_id} className={styles.newsItem}>\n                {query.length > 1 ? (\n                  <article>\n                    <h2 className={styles.articleName}>\n                      <HighlightText result={title} query={query} />\n                    </h2>\n                    <p className={styles.text}>\n                      <HighlightText result={description} query={query} />\n                    </p>\n\n                    <div className={styles.additional}>\n                      <span className={styles.date}>\n                        {format(new Date(date), 'dd/MM/yyyy')}\n                      </span>\n                      <a\n                        href={url}\n                        className={styles.readMore}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                      >\n                        Read more\n                      </a>\n                    </div>\n                  </article>\n                ) : (\n                  <article>\n                    <h2 className={styles.articleName}>\n                      {shortenText(title, 50)}\n                    </h2>\n                    <p className={styles.text}>\n                      {shortenText(description, 225)}\n                    </p>\n                    <div className={styles.additional}>\n                      <span className={styles.date}>\n                        {format(new Date(date), 'dd/MM/yyyy')}\n                      </span>\n                      <a\n                        href={url}\n                        className={styles.readMore}\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                      >\n                        Read more\n                      </a>\n                    </div>\n                  </article>\n                )}\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    );\n  }\n};\n\nexport default News;\n","import News from 'components/News';\nimport Container from 'components/Container/Container';\n\nconst NewsPage = () => {\n  return (\n    <main>\n      <Container>\n        <News />\n      </Container>\n    </main>\n  );\n};\n\nexport default NewsPage;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://fetch-friend.herokuapp.com/api';\n\nconst getAllFriends = async () => {\n  return await axios.get('/friends');\n};\n\nconst getNews = async () => {\n  return await axios.get('/news');\n};\n\nconst apiServices = {\n  getAllFriends,\n  getNews,\n};\nexport default apiServices;\n"],"names":["notices","showError","text","toast","showSuccess","showWarning","value","onChange","className","styles","htmlFor","DebounceInput","debounceTimeout","type","e","target","trim","name","id","placeholder","result","query","split","RegExp","map","piece","index","style","backgroundColor","toLowerCase","toLocaleLowerCase","useState","error","setError","isLoaded","setIsLoaded","items","setItems","setQuery","searchParam","useEffect","apiServices","data","fetchNews","shortenText","max","length","slice","join","FilteredItems","filter","item","some","newItem","toString","indexOf","searchNews","_id","title","description","date","url","format","Date","href","rel","Loader","message","Container","axios","getAllFriends","getNews"],"sourceRoot":""}