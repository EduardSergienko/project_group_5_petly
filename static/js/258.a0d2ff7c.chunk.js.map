{"version":3,"file":"static/js/258.a0d2ff7c.chunk.js","mappings":"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","sources":["helpers/Notification/Notification.jsx","webpack://react-homework-template/./src/components/News/News.module.scss?cf64","webpack://react-homework-template/./src/helpers/FilterInput/FilterInput.module.scss?9729","helpers/FilterInput/FilterInput.jsx","components/News/News.jsx","pages/NewsPage.jsx","services/apiServices.js"],"sourcesContent":["import { toast } from 'react-toastify';\n\nconst showError = text => toast.error(text);\n\nconst showSuccess = text => toast.success(text);\n\nconst showWarning = text => toast.warn(text);\n\nconst notices = {\n  showError,\n  showSuccess,\n  showWarning,\n};\nexport default notices;\n","// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"hoverOrangeColor\":\"#e7884d\",\"primaryGrayColor\":\"rgba(17,17,17,.6)\",\"secondGrayColor\":\"#535353\",\"newsWrap\":\"News_newsWrap__qHh1+\",\"title\":\"News_title__eqYv-\",\"box\":\"News_box__E9dik\",\"newsItem\":\"News_newsItem__6DvvE\",\"articleName\":\"News_articleName__LYAy-\",\"text\":\"News_text__Ps51B\",\"additional\":\"News_additional__uOFiC\",\"date\":\"News_date__D3o7H\",\"readMore\":\"News_readMore__fNfmn\"};","// extracted by mini-css-extract-plugin\nexport default {\"orangeColor\":\"#f59256\",\"mainTextColor\":\"#111\",\"backgroundColor\":\"#fdf7f2\",\"prymaryTextColor\":\"#000\",\"activeInputColor\":\"#fdf7f2\",\"errorColor\":\"#d60202\",\"secondaryTextColor\":\"#fff\",\"hoverOrangeColor\":\"#e7884d\",\"primaryGrayColor\":\"rgba(17,17,17,.6)\",\"secondGrayColor\":\"#535353\",\"search\":\"FilterInput_search__waR2z\",\"label\":\"FilterInput_label__YJ6od\",\"input\":\"FilterInput_input__SwtDH\",\"noValidate\":\"FilterInput_noValidate__Obbrr\",\"searchIcon\":\"FilterInput_searchIcon__XfCTQ\",\"searchBtn\":\"FilterInput_searchBtn__W1bj3\"};","import { IoMdSearch } from 'react-icons/io';\nimport { DebounceInput } from 'react-debounce-input';\nimport PropTypes from 'prop-types';\n\nimport styles from './FilterInput.module.scss';\n\nconst FilterInput = ({ value, onSubmit, onChange }) => {\n  return (\n    <form onSubmit={onSubmit} className={styles.search}>\n      <label htmlFor=\"search\" className={styles.label}>\n        <DebounceInput\n          debounceTimeout={400}\n          type=\"search\"\n          value={value}\n          onChange={onChange}\n          name=\"search\"\n          id=\"search\"\n          placeholder=\"Search\"\n          className={styles.input}\n        />\n        <button className={styles.searchBtn} type=\"submit\">\n          <IoMdSearch className={styles.searchIcon} />\n        </button>\n      </label>\n    </form>\n  );\n};\n\nFilterInput.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default FilterInput;\n","import { useState, useEffect } from 'react';\nimport { format } from 'date-fns';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport styles from 'components/News/News.module.scss';\nimport Loader from 'components/Loader';\nimport FilterInput from 'helpers/FilterInput';\nimport notices from 'helpers/Notification';\nimport apiServices from 'services/apiServices';\n\nconst News = () => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [items, setItems] = useState([]);\n  const [query, setQuery] = useState('');\n  const [page, setPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const [searchingNewsData, setSearchingNewsData] = useState(null);\n\n  useEffect(() => {\n    async function fetchNews() {\n      try {\n        setIsLoaded(true);\n        const { data } = await apiServices.getNews(page);\n\n        setItems(prewState => [...prewState, ...data.data]);\n        if (data.data.length < 9) {\n          setHasMore(false);\n          notices.showSuccess('Thats all News');\n        }\n        setIsLoaded(false);\n      } catch (error) {\n        setIsLoaded(false);\n        return notices.showError('Oops, try again');\n      }\n    }\n\n    fetchNews();\n  }, [page]);\n\n  async function searchNews(e) {\n    e.preventDefault();\n    try {\n      setIsLoaded(true);\n      const { data: searchData } = await apiServices.searchNews(query);\n      setSearchingNewsData(searchData);\n      setIsLoaded(false);\n    } catch (error) {\n      setIsLoaded(false);\n      return notices.showError('Sorry, no news found, try again');\n    }\n  }\n\n  const shortenText = (text, max) => {\n    return text && text.length > max\n      ? `${text.slice(0, max).split(' ').slice(0, -1).join(' ')}...`\n      : text;\n  };\n  function handleShowMore() {\n    setPage(page + 1);\n  }\n  const handleInputType = e => {\n    setQuery(e.target.value);\n    if (e.target.value.trim() === '') {\n      setSearchingNewsData(null);\n      return;\n    }\n  };\n  return (\n    <div className={styles.newsWrap}>\n      <h1 className={styles.title}>News</h1>\n      {isLoaded && <Loader />}\n      <FilterInput\n        onSubmit={searchNews}\n        value={query}\n        onChange={handleInputType}\n      />\n      {searchingNewsData ? (\n        <ul className={styles.box}>\n          {searchingNewsData.map(({ _id, title, description, date, url }) => {\n            return (\n              <li key={_id} className={styles.newsItem}>\n                <article>\n                  <h2 className={styles.articleName}>\n                    {shortenText(title, 50)}\n                  </h2>\n                  <p className={styles.text}>{shortenText(description, 225)}</p>\n                  <div className={styles.additional}>\n                    <span className={styles.date}>\n                      {format(new Date(date), 'dd/MM/yyyy')}\n                    </span>\n                    <a\n                      href={url}\n                      className={styles.readMore}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      Read more\n                    </a>\n                  </div>\n                </article>\n              </li>\n            );\n          })}\n        </ul>\n      ) : (\n        <InfiniteScroll\n          className={styles.box}\n          dataLength={items.length}\n          next={handleShowMore}\n          hasMore={hasMore}\n        >\n          {items.map(({ _id, title, description, date, url }) => {\n            return (\n              <li key={_id} className={styles.newsItem}>\n                <article>\n                  <h2 className={styles.articleName}>\n                    {shortenText(title, 50)}\n                  </h2>\n                  <p className={styles.text}>{shortenText(description, 225)}</p>\n                  <div className={styles.additional}>\n                    <span className={styles.date}>\n                      {format(new Date(date), 'dd/MM/yyyy')}\n                    </span>\n                    <a\n                      href={url}\n                      className={styles.readMore}\n                      target=\"_blank\"\n                      rel=\"noreferrer\"\n                    >\n                      Read more\n                    </a>\n                  </div>\n                </article>\n              </li>\n            );\n          })}\n        </InfiniteScroll>\n      )}\n    </div>\n  );\n};\n\nexport default News;\n","import News from 'components/News';\nimport Container from 'components/Container/Container';\n\nconst NewsPage = () => {\n  return (\n    <main>\n      <Container>\n        <News />\n      </Container>\n    </main>\n  );\n};\n\nexport default NewsPage;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://fetch-friend.herokuapp.com/api';\n\nconst getAllFriends = async () => {\n  return await axios.get('/friends');\n};\n\nconst getNews = async page => {\n  return await axios.get(`/news?page=${page}`);\n};\nconst searchNews = async query => {\n  return await axios.get(`/news/search?title=${query}`);\n};\nconst apiServices = {\n  getAllFriends,\n  getNews,\n  searchNews,\n};\nexport default apiServices;\n"],"names":["notices","showError","text","toast","showSuccess","showWarning","value","onSubmit","onChange","className","styles","htmlFor","DebounceInput","debounceTimeout","type","name","id","placeholder","useState","isLoaded","setIsLoaded","items","setItems","query","setQuery","page","setPage","hasMore","setHasMore","searchingNewsData","setSearchingNewsData","e","preventDefault","apiServices","searchData","data","useEffect","prewState","length","fetchNews","shortenText","max","slice","split","join","Loader","target","trim","map","_id","title","description","date","url","format","Date","href","rel","dataLength","next","Container","axios","getAllFriends","getNews","searchNews"],"sourceRoot":""}