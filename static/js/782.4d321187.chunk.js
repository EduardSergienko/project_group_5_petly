"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[782],{5685:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(4373),a="FilterInput_search__waR2z",s="FilterInput_label__YJ6od",c="FilterInput_input__SwtDH",u="FilterInput_searchIcon__XfCTQ",i="FilterInput_searchBtn__W1bj3",l=t(184),o=function(e){var r=e.onSubmit;return(0,l.jsx)("form",{onSubmit:r,className:a,children:(0,l.jsxs)("label",{htmlFor:"search",className:s,children:[(0,l.jsx)("input",{type:"text",name:"search",id:"search",placeholder:"Search",className:c}),(0,l.jsx)("button",{className:i,type:"submit",children:(0,l.jsx)(n.y5k,{className:u})})]})})}},9198:function(e,r,t){var n=t(8174),a={showError:function(e){return n.Am.error(e)},showSuccess:function(e){return n.Am.success(e)},showWarning:function(e){return n.Am.warn(e)}};r.Z=a},6966:function(e,r,t){t.d(r,{Z:function(){return n.Z}});var n=t(9198)},9782:function(e,r,t){t.r(r),t.d(r,{default:function(){return S}});var n=t(3433),a=t(5861),s=t(9439),c=t(4687),u=t.n(c),i=t(2791),l=t(8977),o=t(4771),h="News_newsWrap__qHh1+",p="News_title__eqYv-",d="News_box__E9dik",f="News_newsItem__6DvvE",m="News_articleName__LYAy-",_="News_text__Ps51B",w="News_additional__uOFiC",x="News_date__D3o7H",N="News_readMore__fNfmn",v=t(2881),Z=t(5685),j=t(6966),b=t(6589),y=t(184),k=function(){var e=(0,i.useState)(!1),r=(0,s.Z)(e,2),t=r[0],c=r[1],k=(0,i.useState)([]),g=(0,s.Z)(k,2),S=g[0],F=g[1],I=(0,i.useState)(1),D=(0,s.Z)(I,2),E=D[0],M=D[1],A=(0,i.useState)(!0),P=(0,s.Z)(A,2),C=P[0],R=P[1],H=(0,i.useState)(null),L=(0,s.Z)(H,2),W=L[0],Y=L[1];function q(){return(q=(0,a.Z)(u().mark((function e(r){var t,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),""!==(t=r.target.elements.search).value.trim()){e.next=5;break}return Y(null),e.abrupt("return");case 5:return e.prev=5,c(!0),e.next=9,b.Z.searchNews(t.value);case 9:n=e.sent,a=n.data,Y(a),c(!1),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(5),c(!1),e.abrupt("return",j.Z.showError("Sorry, no news found, try again"));case 19:case"end":return e.stop()}}),e,null,[[5,15]])})))).apply(this,arguments)}(0,i.useEffect)((function(){function e(){return(e=(0,a.Z)(u().mark((function e(){var r,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,b.Z.getNews(E);case 4:r=e.sent,t=r.data,F((function(e){return[].concat((0,n.Z)(e),(0,n.Z)(t.data))})),t.data.length<9&&(R(!1),j.Z.showSuccess("Thats all News")),c(!1),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),c(!1),e.abrupt("return",j.Z.showError("Oops, try again"));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E]);var B=function(e,r){return e&&e.length>r?"".concat(e.slice(0,r).split(" ").slice(0,-1).join(" "),"..."):e};return(0,y.jsxs)("div",{className:h,children:[(0,y.jsx)("h1",{className:p,children:"News"}),t&&(0,y.jsx)(v.Z,{}),(0,y.jsx)(Z.Z,{onSubmit:function(e){return q.apply(this,arguments)}}),W?(0,y.jsx)("ul",{className:d,children:W.map((function(e){var r=e._id,t=e.title,n=e.description,a=e.date,s=e.url;return(0,y.jsx)("li",{className:f,children:(0,y.jsxs)("article",{children:[(0,y.jsx)("h2",{className:m,children:B(t,50)}),(0,y.jsx)("p",{className:_,children:B(n,225)}),(0,y.jsxs)("div",{className:w,children:[(0,y.jsx)("span",{className:x,children:(0,l.Z)(new Date(a),"dd/MM/yyyy")}),(0,y.jsx)("a",{href:s,className:N,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},r)}))}):(0,y.jsx)(o.Z,{className:d,dataLength:S.length,next:function(){M(E+1)},hasMore:C,children:S.map((function(e){var r=e._id,t=e.title,n=e.description,a=e.date,s=e.url;return(0,y.jsx)("li",{className:f,children:(0,y.jsxs)("article",{children:[(0,y.jsx)("h2",{className:m,children:B(t,50)}),(0,y.jsx)("p",{className:_,children:B(n,225)}),(0,y.jsxs)("div",{className:w,children:[(0,y.jsx)("span",{className:x,children:(0,l.Z)(new Date(a),"dd/MM/yyyy")}),(0,y.jsx)("a",{href:s,className:N,target:"_blank",rel:"noreferrer",children:"Read more"})]})]})},r)}))})]})},g=t(3409),S=function(){return(0,y.jsx)("main",{children:(0,y.jsx)(g.Z,{children:(0,y.jsx)(k,{})})})}},6589:function(e,r,t){var n=t(5861),a=t(4687),s=t.n(a),c=t(1044);c.ZP.defaults.baseURL="https://fetch-friend.herokuapp.com/api";var u=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/friends");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,n.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news?page=".concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ZP.get("/news/search?title=".concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o={getAllFriends:u,getNews:i,searchNews:l};r.Z=o}}]);
//# sourceMappingURL=782.4d321187.chunk.js.map